<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AIMarketCap - Plataforma de Ranking de IAs</title>
  
  <!-- Estilos inline para evitar dependencias externas -->
  <style>
    /* Fuentes */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    /* Variables CSS para tema claro/oscuro */
    :root {
      --primary: #3b82f6;
      --primary-dark: #2563eb;
      --primary-light: #93c5fd;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --bg-primary: #ffffff;
      --bg-secondary: #f9fafb;
      --bg-tertiary: #f3f4f6;
      --bg-accent: #ebf5ff;
      --border: #e5e7eb;
      --text-primary: #111827;
      --text-secondary: #4b5563;
      --text-tertiary: #6b7280;
      --text-muted: #9ca3af;
      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
      --shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --radius-sm: 0.25rem;
      --radius: 0.5rem;
      --radius-lg: 0.75rem;
      --radius-full: 9999px;
      --transition: all 0.2s ease;
      
      /* Top 3 colores para modo claro */
      --top1-bg: #fbf7ef;
      --top1-border: #eab308;
      --top1-medal: #ffc107;
      --top1-text: #7c2d12;
      
      --top2-bg: #f6f8fb;
      --top2-border: #a1a1aa;
      --top2-medal: #c0c0c0;
      --top2-text: #1f2937;
      
      --top3-bg: #f8f5f1;
      --top3-border: #b45309;
      --top3-medal: #cd7f32;
      --top3-text: #7c2d0c;
    }
    
    /* Variables modo oscuro */
    .dark-mode {
      --primary: #3b82f6;
      --primary-dark: #2563eb;
      --primary-light: #93c5fd;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --bg-primary: #1f2937;
      --bg-secondary: #111827;
      --bg-tertiary: #0f172a;
      --bg-accent: #1e3a8a;
      --border: #374151;
      --text-primary: #f9fafb;
      --text-secondary: #e5e7eb;
      --text-tertiary: #d1d5db;
      --text-muted: #9ca3af;
      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
      --shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
      
      /* Top 3 colores para modo oscuro */
      --top1-bg: #2c2c2c;
      --top1-border: #eab308;
      --top1-medal: #ffc107;
      --top1-text: #000000;
      
      --top2-bg: #1a2541;
      --top2-border: #a1a1aa;
      --top2-medal: #c0c0c0;
      --top2-text: #000000;
      
      --top3-bg: #2a2520;
      --top3-border: #b45309;
      --top3-medal: #cd7f32;
      --top3-text: #ffffff;
    }
    
    /* Estilos base */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      font-size: 16px;
      scroll-behavior: smooth;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background-color: var(--bg-tertiary);
      color: var(--text-primary);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      min-height: 100vh;
      transition: var(--transition);
    }
    
    /* Contenedor */
    .container {
      width: 100%;
      max-width: 1100px; /* Reducido para que sea más compacto */
      margin: 0 auto;
      padding: 0 1.5rem;
    }
    
    /* Animaciones */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    @keyframes slideUp {
      from { transform: translateY(100%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }
    
    /* Barra de navegación */
    .header {
      background-color: var(--bg-primary);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 50;
      padding: 1rem 0;
      transition: var(--transition);
    }
    
    .nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      text-decoration: none;
      transition: var(--transition);
    }
    
    .logo:hover {
      color: var(--primary-dark);
    }
    
    .nav-items {
      display: flex;
      gap: 0.75rem;
    }
    
    .button {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2.5rem;
      height: 2.5rem;
      border-radius: var(--radius-full);
      border: none;
      background-color: var(--bg-secondary);
      cursor: pointer;
      color: var(--text-tertiary);
      transition: var(--transition);
      position: relative;
    }
    
    .button:hover {
      background-color: var(--bg-accent);
      color: var(--primary);
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    .button:active {
      transform: translateY(0);
      box-shadow: var(--shadow-sm);
    }
    
    .button svg {
      width: 1.25rem;
      height: 1.25rem;
      transition: var(--transition);
    }
    
    .button-badge {
      position: absolute;
      top: -0.25rem;
      right: -0.25rem;
      background-color: var(--primary);
      color: white;
      border-radius: var(--radius-full);
      font-size: 0.75rem;
      font-weight: 600;
      min-width: 1.25rem;
      height: 1.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 0.25rem;
    }
    
    /* Barra de búsqueda */
    .search-bar {
      background-color: var(--bg-secondary);
      border-bottom: 1px solid var(--border);
      padding: 1rem 0;
      transition: var(--transition);
    }
    
    .search-container {
      max-width: 640px;
      margin: 0 auto;
      position: relative;
    }
    
    .search-input {
      width: 100%;
      padding: 0.75rem 1rem 0.75rem 3rem;
      border-radius: var(--radius-full);
      border: 1px solid var(--border);
      background-color: var(--bg-primary);
      color: var(--text-primary);
      font-size: 1rem;
      transition: var(--transition);
      box-shadow: var(--shadow-sm);
    }
    
    .search-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: var(--shadow-md), 0 0 0 3px rgba(59, 130, 246, 0.2);
    }
    
    .search-input::placeholder {
      color: var(--text-muted);
    }
    
    .search-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      width: 1.25rem;
      height: 1.25rem;
      color: var(--text-muted);
      transition: var(--transition);
      pointer-events: none;
    }
    
    .search-input:focus + .search-icon {
      color: var(--primary);
    }
    
    /* Área principal */
    .main {
      padding: 2rem 0;
      animation: fadeIn 0.5s ease-out;
    }
    
    /* Filtros de categoría */
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
      overflow-x: auto;
      padding-bottom: 0.5rem;
      scrollbar-width: thin;
      scrollbar-color: var(--text-muted) transparent;
    }
    
    .filters::-webkit-scrollbar {
      height: 4px;
    }
    
    .filters::-webkit-scrollbar-track {
      background: transparent;
    }
    
    .filters::-webkit-scrollbar-thumb {
      background-color: var(--text-muted);
      border-radius: var(--radius-full);
    }
    
    .filter-button {
      padding: 0.5rem 1rem;
      border-radius: var(--radius-full);
      font-size: 0.875rem;
      font-weight: 500;
      border: none;
      cursor: pointer;
      white-space: nowrap;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .filter-button svg {
      width: 1rem;
      height: 1rem;
    }
    
    .filter-button.active {
      background-color: var(--primary);
      color: white;
      box-shadow: var(--shadow-md);
    }
    
    .filter-button:not(.active) {
      background-color: var(--bg-primary);
      color: var(--text-secondary);
      box-shadow: var(--shadow-sm);
    }
    
    .filter-button:not(.active):hover {
      background-color: var(--bg-accent);
      color: var(--primary);
      box-shadow: var(--shadow-md);
    }
    
    /* Tabla */
    .card {
      background-color: var(--bg-primary);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      margin-bottom: 1.5rem;
      transition: var(--transition);
      animation: fadeIn 0.5s ease-out;
      max-width: 100%;
    }
    
    .table-container {
      overflow-x: auto;
      scrollbar-width: thin;
      scrollbar-color: var(--text-muted) transparent;
      -webkit-overflow-scrolling: touch; /* Para mejorar scroll en iOS */
    }
    
    .table-container::-webkit-scrollbar {
      height: 8px;
    }
    
    .table-container::-webkit-scrollbar-track {
      background: transparent;
    }
    
    .table-container::-webkit-scrollbar-thumb {
      background-color: var(--text-muted);
      border-radius: var(--radius-full);
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
    }
    
    thead {
      background-color: var(--bg-secondary);
      position: sticky;
      top: 0;
      z-index: 10;
    }
    
    th {
      text-align: left;
      padding: 1rem 1.5rem;
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--text-tertiary);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      transition: var(--transition);
    }
    
    td {
      padding: 1rem 1.5rem;
      border-top: 1px solid var(--border);
      transition: var(--transition);
      vertical-align: middle;
    }
    
    tr {
      position: relative;
      transition: var(--transition);
      height: 4.25rem; /* Altura fija para todas las filas - un poco más compacta */
    }
    
    tr:hover {
      background-color: var(--bg-secondary);
    }
    
    /* Columnas específicas */
    th:nth-child(1), td:nth-child(1) { /* Fav */
      width: 40px;
    }
    
    th:nth-child(2), td:nth-child(2) { /* Ranking */
      width: 40px;
    }
    
    th:nth-child(3), td:nth-child(3) { /* IA */
      width: 200px;
    }
    
    th:nth-child(4), td:nth-child(4) { /* Página */
      width: 60px;
    }
    
    th:nth-child(5), td:nth-child(5) { /* Visitas */
      width: 80px;
    }
    
    th:nth-child(6), td:nth-child(6) { /* Cambio */
      width: 70px;
    }
    
    th:nth-child(7), td:nth-child(7) { /* Año */
      width: 60px;
    }
    
    th:nth-child(8), td:nth-child(8) { /* Valoración */
      width: 100px;
    }
    
    th:nth-child(9), td:nth-child(9) { /* Capacidades */
      width: 180px;
    }
    
    /* Elementos de la tabla */
    .rank {
      font-weight: 600;
      width: 2rem;
      height: 2rem;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--bg-secondary);
      transition: var(--transition);
      position: relative;
    }
    
    tr:hover .rank {
      background-color: var(--primary);
      color: white;
    }
    
    /* Top 1 Gold Medal with Crown */
    .top-1 {
      background-color: var(--top1-bg);
      border-left: 3px solid var(--top1-border);
    }
    
    .top-1 .rank {
      background: var(--top1-medal);
      color: var(--top1-text);
      width: 2.5rem;
      height: 2.5rem;
      border: 2px solid #fff;
      box-shadow: 0 0 10px rgba(255, 193, 7, 0.5);
      position: relative;
    }
    
    .top-1 .rank::after {
      content: '👑';
      position: absolute;
      top: -0.8rem;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1rem;
    }
    
    /* Top 2 Silver Medal with Star */
    .top-2 {
      background-color: var(--top2-bg);
      border-left: 3px solid var(--top2-border);
    }
    
    .top-2 .rank {
      background: var(--top2-medal);
      color: var(--top2-text);
      width: 2.5rem;
      height: 2.5rem;
      border: 2px solid #fff;
      box-shadow: 0 0 10px rgba(192, 192, 192, 0.5);
      position: relative;
    }
    
    .top-2 .rank::after {
      content: '⭐';
      position: absolute;
      top: -0.8rem;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.9rem;
    }
    
    /* Top 3 Bronze Medal with Ribbon */
    .top-3 {
      background-color: var(--top3-bg);
      border-left: 3px solid var(--top3-border);
    }
    
    .top-3 .rank {
      background: var(--top3-medal);
      color: var(--top3-text);
      width: 2.5rem;
      height: 2.5rem;
      border: 2px solid #fff;
      box-shadow: 0 0 10px rgba(205, 127, 50, 0.5);
      position: relative;
    }
    
    .top-3 .rank::after {
      content: '🏅';
      position: absolute;
      top: -0.8rem;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.9rem;
    }
    
    .ai-info {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .favorite-star {
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 1.75rem;
      height: 1.75rem;
      border-radius: var(--radius-full);
      background-color: var(--bg-secondary);
      flex-shrink: 0;
      touch-action: manipulation; /* Mejor comportamiento táctil */
    }
    
    .favorite-star:hover {
      transform: scale(1.1);
      background-color: var(--bg-accent);
    }
    
    .favorite-star svg {
      width: 1.25rem;
      height: 1.25rem;
      transition: var(--transition);
    }
    
    .favorite-star.active {
      background-color: #fef3c7;
    }
    
    .favorite-star.active svg {
      color: var(--warning);
      filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.1));
    }
    
    .ai-logo {
      width: 2.5rem;
      height: 2.5rem;
      border-radius: var(--radius-full);
      object-fit: cover;
      box-shadow: var(--shadow-sm);
      border: 2px solid var(--bg-secondary);
      transition: var(--transition);
      flex-shrink: 0;
      background-color: var(--bg-primary);
    }
    
    tr:hover .ai-logo {
      transform: scale(1.1);
      box-shadow: var(--shadow-md);
      border-color: var(--primary-light);
    }
    
    .ai-details {
      display: flex;
      flex-direction: column;
    }
    
    .ai-name {
      font-size: 0.9375rem;
      font-weight: 600;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .ai-company {
      font-size: 0.8125rem;
      color: var(--text-tertiary);
    }
    
    .web-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 2.25rem;
      height: 2.25rem;
      background-color: var(--bg-secondary);
      border-radius: var(--radius-full);
      color: var(--text-tertiary);
      transition: var(--transition);
      touch-action: manipulation; /* Mejora para pantallas táctiles */
    }
    
    .web-link:hover {
      background-color: var(--primary);
      color: white;
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    .web-link svg {
      width: 1.25rem;
      height: 1.25rem;
    }
    
    .visit-count {
      font-size: 0.9375rem;
      font-weight: 500;
      color: var(--text-primary);
    }
    
    .year {
      font-size: 0.9375rem;
      font-weight: 500;
      color: var(--text-primary);
      display: inline-block;
      padding: 0.25rem 0.5rem;
      border-radius: var(--radius);
      background-color: var(--bg-secondary);
      transition: var(--transition);
    }
    
    /* Barra de valoración */
    .rating-container {
      width: 100%;
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }
    
    .rating-bar {
      flex-grow: 1;
      height: 0.375rem; /* Más pequeña */
      background-color: var(--bg-secondary);
      border-radius: var(--radius-full);
      overflow: hidden;
      position: relative;
    }
    
    .rating-progress {
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      background: linear-gradient(90deg, var(--primary-dark), var(--primary));
      transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .rating-value {
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--text-primary);
      min-width: 2rem;
      text-align: right;
    }
    
    .badge-container {
      display: flex;
      flex-wrap: wrap;
      gap: 0.375rem;
      min-height: 1.875rem; /* Altura mínima para la consistencia */
      align-items: center;
    }
    
    .badge {
      font-size: 0.75rem;
      font-weight: 500;
      padding: 0.25rem 0.5rem;
      border-radius: var(--radius-full);
      background-color: var(--bg-accent);
      color: var(--primary-dark);
      transition: var(--transition);
      white-space: nowrap;
    }
    
    .badge-more {
      font-size: 0.75rem;
      font-weight: 600;
      padding: 0.25rem 0.5rem;
      border-radius: var(--radius-full);
      background-color: var(--primary-light);
      color: var(--primary-dark);
      cursor: pointer;
      transition: var(--transition);
    }
    
    .badge-more:hover {
      background-color: var(--primary);
      color: white;
    }
    
    tr:hover .badge {
      transform: translateY(-1px);
      box-shadow: var(--shadow-sm);
    }
    
    .capabilities-expanded .badge-hidden {
      display: inline-flex;
    }
    
    .badge-hidden {
      display: none;
    }
    
    /* Paginación */
    .pagination {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
    }
    
    .page-info {
      font-size: 0.875rem;
      color: var(--text-tertiary);
    }
    
    .page-buttons {
      display: flex;
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow);
    }
    
    .page-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 2.5rem;
      height: 2.5rem;
      padding: 0 0.5rem;
      border: 1px solid var(--border);
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text-secondary);
      background-color: var(--bg-primary);
      cursor: pointer;
      transition: var(--transition);
    }
    
    .page-button:first-child {
      border-top-left-radius: var(--radius);
      border-bottom-left-radius: var(--radius);
    }
    
    .page-button:last-child {
      border-top-right-radius: var(--radius);
      border-bottom-right-radius: var(--radius);
    }
    
    .page-button.active {
      background-color: var(--bg-accent);
      color: var(--primary);
      border-color: var(--primary-light);
      font-weight: 600;
      z-index: 1;
      box-shadow: inset 0 1px 3px rgba(66, 153, 225, 0.1);
    }
    
    .page-button:not(:first-child) {
      margin-left: -1px;
    }
    
    .page-button:hover:not(.active) {
      background-color: var(--bg-secondary);
      z-index: 2;
    }
    
    .page-button:disabled {
      cursor: not-allowed;
      opacity: 0.5;
    }
    
    /* Notificación */
    .notification {
      position: fixed;
      bottom: 1.5rem;
      right: 1.5rem;
      padding: 1rem 1.25rem;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      transform: translateY(100px);
      opacity: 0;
      transition: transform 0.3s ease, opacity 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      z-index: 100;
      max-width: 360px;
      border-left: 4px solid var(--primary);
    }
    
    .notification.visible {
      transform: translateY(0);
      opacity: 1;
    }
    
    .notification-icon {
      width: 1.5rem;
      height: 1.5rem;
      flex-shrink: 0;
      color: var(--warning);
    }
    
    .notification-text {
      font-size: 0.9375rem;
      font-weight: 500;
    }
    
    /* Responsive */
    @media (max-width: 1024px) {
      html {
        font-size: 15px;
      }
      
      .container {
        max-width: 100%;
        padding: 0 1rem;
      }
    }
    
    @media (max-width: 900px) {
      /* Ajustar columnas */
      th:nth-child(6), td:nth-child(6), /* Cambio - ocultar en tablets */
      th:nth-child(4), td:nth-child(4) { /* Página - ocultar en tablets */
        display: none;
      }
    }
    
    @media (max-width: 768px) {
      html {
        font-size: 14px;
      }
      
      .container {
        padding: 0 0.75rem;
      }
      
      .hide-mobile {
        display: none;
      }
      
      .pagination {
        flex-direction: column;
        align-items: center;
      }
      
      th, td {
        padding: 0.75rem 0.5rem;
      }
      
      /* Ocultar columnas menos importantes en móvil */
      th:nth-child(7), td:nth-child(7) { /* Año */
        display: none;
      }
      
      /* Ajustar anchos de columnas para móvil */
      th:nth-child(3), td:nth-child(3) { /* IA */
        width: 140px;
      }
      
      .logo-text {
        display: none;
      }
      
      .logo {
        font-size: 1.5rem;
      }
      
      /* Ajustar el espaciado de la paginación */
      .page-buttons {
        margin-top: 0.5rem;
      }
      
      /* Arreglar overflow de texto */
      .ai-name, .ai-company {
        max-width: 120px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      
      /* Hacer las filas un poco más altas para mejorar toque */
      tr {
        height: 4.5rem;
      }
      
      /* Mejorar área táctil para botones */
      .favorite-star, .web-link, .badge-more {
        min-width: 2rem;
        min-height: 2rem;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    }
    
    @media (max-width: 640px) {
      /* Ocultar más columnas en pantallas muy pequeñas */
      th:nth-child(8), td:nth-child(8) { /* Valoración - ocultar en móviles pequeños */
        display: none;
      }
      
      /* Ajustar espaciado en las celdas */
      th, td {
        padding: 0.6rem 0.4rem;
      }
      
      /* Hacer la tabla más compacta */
      .rating-container {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.25rem;
      }
      
      /* Reducir tamaño de elementos */
      .ai-logo {
        width: 2rem;
        height: 2rem;
      }
      
      .badge {
        font-size: 0.6875rem;
        padding: 0.2rem 0.375rem;
      }
      
      /* Ajustar paginación para pantallas pequeñas */
      .pagination {
        gap: 0.5rem;
      }
      
      .page-info {
        font-size: 0.75rem;
      }
      
      /* Mostrar menos botones de paginación */
      .page-button:not(.active):not(:first-child):not(:last-child) {
        display: none;
      }
    }
    
    @media (max-width: 480px) {
      th:nth-child(5), td:nth-child(5) { /* Visitas - ocultar en móviles muy pequeños */
        display: none;
      }
      
      /* Simplificar tabla aún más */
      .ai-info {
        gap: 0.5rem;
      }
      
      /* Reducir tamaño para mejor legibilidad */
      .badge-container {
        gap: 0.25rem;
      }
      
      /* Ajustar altura de filas */
      tr {
        height: 4rem;
      }
    }
    
    /* Estados adicionales y utilidades */
    .hidden {
      display: none;
    }
    
    /* Animaciones específicas */
    .fade-in {
      animation: fadeIn 0.5s ease-out;
    }
    
    .slide-up {
      animation: slideUp 0.5s ease-out;
    }
    
    .pulse {
      animation: pulse 1s ease-in-out;
    }
    
    /* Skeleton loader (para contenido en carga) */
    .skeleton {
      background: linear-gradient(90deg, var(--bg-secondary) 0%, var(--bg-accent) 50%, var(--bg-secondary) 100%);
      background-size: 1800px 100%;
      animation: shimmer 2s linear infinite;
      border-radius: var(--radius);
    }
    
    /* Estilos para el porcentaje de cambio */
    .change-value {
      font-size: 0.875rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.25rem;
      color: var(--text-primary);
    }
    
    .change-positive {
      color: var(--success);
    }
    
    .change-negative {
      color: var(--danger);
    }
    
    .change-icon {
      display: inline-flex;
      width: 1rem;
      height: 1rem;
    }
    
    /* Versión móvil de los botones de filtro */
    @media (max-width: 640px) {
      .filters {
        padding-bottom: 1rem;
        margin-bottom: 1rem;
        overflow-x: auto;
        flex-wrap: nowrap;
        -webkit-overflow-scrolling: touch;
        scroll-snap-type: x mandatory;
      }
      
      .filter-button {
        flex-shrink: 0;
        scroll-snap-align: start;
        font-size: 0.75rem;
        padding: 0.5rem 0.75rem;
      }
      
      .filter-button svg {
        width: 0.875rem;
        height: 0.875rem;
      }
    }
    
    /* Estilo de desplazamiento suave */
    * {
      scroll-behavior: smooth;
      scroll-margin-top: 5rem;
    }
    
    /* Notificación móvil */
    @media (max-width: 640px) {
      .notification {
        left: 1rem;
        right: 1rem;
        bottom: 1rem;
        max-width: none;
        width: calc(100% - 2rem);
        padding: 0.75rem 1rem;
      }
    }
    
    .empty-icon {
      font-size: 3rem;
      color: var(--text-muted);
      margin-bottom: 1rem;
    }
    
    .empty-description {
      font-size: 0.9375rem;
      color: var(--text-tertiary);
      max-width: 32rem;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="container">
      <div class="nav">
        <a href="#" class="logo">
          AIMarketCap
        </a>
        
        <div class="nav-items">
          <button id="favorites-toggle" class="button" title="Mostrar solo favoritos">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
          </button>
          
          <button id="dark-mode-toggle" class="button" title="Cambiar tema">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg>
          </button>
        </div>
      </div>
    </div>
  </header>
  
  <!-- Barra de búsqueda -->
  <div class="search-bar">
    <div class="container">
      <div class="search-container">
        <input type="text" id="search-input" class="search-input" placeholder="Buscar IAs por nombre o empresa...">
        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
      </div>
    </div>
  </div>
  
  <!-- Notificación -->
  <div id="notification" class="notification">
    <svg id="notification-icon" class="notification-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg>
    <span id="notification-text" class="notification-text"></span>
  </div>
  
  <main class="main">
    <div class="container">
      <div class="filters">
        <button class="filter-button active" data-category="todas">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
          Todas
        </button>
        <button class="filter-button" data-category="texto">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>
          Texto
        </button>
        <button class="filter-button" data-category="imagen">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
          Imagen
        </button>
        <button class="filter-button" data-category="audio">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2c-1.7 0-3 1.2-3 2.6v6.8c0 1.4 1.3 2.6 3 2.6s3-1.2 3-2.6V4.6C15 3.2 13.7 2 12 2z"></path><path d="M19 10v1a7 7 0 0 1-14 0v-1M12 18.5v3.5m-4-2h8"></path></svg>
          Audio
        </button>
        <button class="filter-button" data-category="video">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line></svg>
          Video
        </button>
        <button class="filter-button" data-category="codigo">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>
          Código
        </button>
        <button class="filter-button" data-category="razonamiento">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
          Razonamiento
        </button>
        <button class="filter-button" data-category="automatizacion">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
          Automatización
        </button>
      </div>
      
      <div class="card">
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Fav</th>
                <th>#</th>
                <th>IA</th>
                <th>Página</th>
                <th>Visitas</th>
                <th>Cambio</th>
                <th>Año</th>
                <th>Valoración</th>
                <th>Capacidades</th>
              </tr>
            </thead>
            <tbody id="ai-table-body">
              <!-- Las filas se generarán dinámicamente desde JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
      
      <div class="pagination">
        <div class="page-info" id="page-info">
          Cargando...
        </div>
        
        <div class="page-buttons" id="pagination-container">
          <!-- Los botones de paginación se generarán dinámicamente -->
        </div>
      </div>
    </div>
  </main>
  
  <script>
    // Datos de las IAs completos con logos locales
    const allIAs = [
      {
        id: 1,
        name: "ChatGPT",
        company: "OpenAI",
        visits: "982.5M",
        change: 12.4,
        launch: "30 Nov 2022",
        rating: 9.8,
        year: 2022,
        capabilities: ["Texto", "Razonamiento"],
        logo: "imagenes/chatgpt.png", // Imagen real de ChatGPT desde la carpeta local
        website: "https://chat.openai.com"
      },
      {
        id: 2,
        name: "Claude",
        company: "Anthropic",
        visits: "720M",
        change: 25.3,
        launch: "15 Mar 2023",
        rating: 9.7,
        year: 2023,
        capabilities: ["Texto", "Razonamiento", "Código"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://claude.ai"
      },
      {
        id: 3,
        name: "Gemini",
        company: "Google",
        visits: "750M",
        change: 18.7,
        launch: "6 Dec 2023",
        rating: 9.6,
        year: 2023,
        capabilities: ["Texto", "Imagen", "Audio", "Video", "Código", "Razonamiento"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://gemini.google.com"
      },
      {
        id: 4,
        name: "Perplexity AI",
        company: "Perplexity",
        visits: "450M",
        change: 32.1,
        launch: "20 Aug 2023",
        rating: 9.2,
        year: 2023,
        capabilities: ["Texto", "Razonamiento"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://perplexity.ai"
      },
      {
        id: 5,
        name: "Poe",
        company: "Quora",
        visits: "320M",
        change: 15.8,
        launch: "21 Sep 2023",
        rating: 9.0,
        year: 2023,
        capabilities: ["Texto", "Razonamiento"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://poe.com"
      },
      {
        id: 6,
        name: "Character.ai",
        company: "Character.ai",
        visits: "380M",
        change: 20.5,
        launch: "12 Jul 2022",
        rating: 8.9,
        year: 2022,
        capabilities: ["Texto", "Razonamiento"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://character.ai"
      },
      {
        id: 7,
        name: "Microsoft Copilot",
        company: "Microsoft",
        visits: "430M",
        change: 15.8,
        launch: "21 Sep 2023",
        rating: 9.0,
        year: 2023,
        capabilities: ["Texto", "Código", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://copilot.microsoft.com"
      },
      {
        id: 8,
        name: "Meta AI (LLaMA)",
        company: "Meta",
        visits: "310M",
        change: -1.4,
        launch: "24 Feb 2023",
        rating: 8.9,
        year: 2023,
        capabilities: ["Texto", "Razonamiento"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://meta.ai"
      },
      {
        id: 9,
        name: "Amazon Olympus",
        company: "Amazon",
        visits: "280M",
        change: 14.7,
        launch: "8 Apr 2023",
        rating: 8.8,
        year: 2023,
        capabilities: ["Texto", "Razonamiento"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://amazon.com/olympus"
      },
      {
        id: 10,
        name: "YandexGPT",
        company: "Yandex",
        visits: "210M",
        change: 18.3,
        launch: "15 May 2023",
        rating: 8.7,
        year: 2023,
        capabilities: ["Texto", "Razonamiento"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://yandex.ru/gpt"
      },
      {
        id: 11,
        name: "Grammarly",
        company: "Grammarly, Inc.",
        visits: "350M",
        change: 8.4,
        launch: "2 Jul 2019",
        rating: 9.0,
        year: 2019,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://grammarly.com"
      },
      {
        id: 12,
        name: "QuillBot",
        company: "QuillBot",
        visits: "190M",
        change: 10.2,
        launch: "12 Aug 2020",
        rating: 8.5,
        year: 2020,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://quillbot.com"
      },
      {
        id: 13,
        name: "DeepL",
        company: "DeepL GmbH",
        visits: "220M",
        change: 7.5,
        launch: "28 Aug 2017",
        rating: 9.2,
        year: 2017,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://deepl.com"
      },
      {
        id: 14,
        name: "Wordtune",
        company: "AI21 Labs",
        visits: "120M",
        change: 12.1,
        launch: "5 Oct 2020",
        rating: 8.4,
        year: 2020,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://wordtune.com"
      },
      {
        id: 15,
        name: "Sudowrite",
        company: "Sudowrite",
        visits: "85M",
        change: 18.9,
        launch: "15 Nov 2021",
        rating: 8.6,
        year: 2021,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://sudowrite.com"
      },
      {
        id: 16,
        name: "Rytr",
        company: "Rytr",
        visits: "95M",
        change: 15.7,
        launch: "11 Jan 2021",
        rating: 8.3,
        year: 2021,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://rytr.me"
      },
      {
        id: 17,
        name: "Textio",
        company: "Textio",
        visits: "75M",
        change: 7.8,
        launch: "3 Mar 2014",
        rating: 8.6,
        year: 2014,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://textio.com"
      },
      {
        id: 18,
        name: "Notion AI",
        company: "Notion",
        visits: "240M",
        change: 28.6,
        launch: "22 Nov 2022",
        rating: 9.1,
        year: 2022,
        capabilities: ["Texto", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://notion.so/ai"
      },
      {
        id: 19,
        name: "SaneBox",
        company: "SaneBox",
        visits: "65M",
        change: 5.4,
        launch: "8 Jun 2015",
        rating: 8.2,
        year: 2015,
        capabilities: ["Texto", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://sanebox.com"
      },
      {
        id: 20,
        name: "Shortwave",
        company: "Shortwave",
        visits: "45M",
        change: 10.5,
        launch: "15 Apr 2022",
        rating: 8.4,
        year: 2022,
        capabilities: ["Texto", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://shortwave.com"
      },
      {
        id: 21,
        name: "Midjourney",
        company: "Midjourney, Inc.",
        visits: "410M",
        change: -2.1,
        launch: "12 Jul 2022",
        rating: 9.5,
        year: 2022,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://midjourney.com"
      },
      {
        id: 22,
        name: "DALL·E 3",
        company: "OpenAI",
        visits: "380M",
        change: 5.6,
        launch: "28 Sep 2023",
        rating: 9.4,
        year: 2023,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://openai.com/dall-e-3"
      },
      {
        id: 23,
        name: "Runway",
        company: "Runway AI",
        visits: "180M",
        change: 23.7,
        launch: "9 Feb 2018",
        rating: 9.0,
        year: 2018,
        capabilities: ["Imagen", "Video"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://runwayml.com"
      },
      {
        id: 24,
        name: "Synthesia",
        company: "Synthesia",
        visits: "150M",
        change: 19.3,
        launch: "28 Mar 2021",
        rating: 8.8,
        year: 2021,
        capabilities: ["Video", "Audio", "Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://synthesia.io"
      },
      {
        id: 25,
        name: "Lumiere",
        company: "Google",
        visits: "110M",
        change: 32.8,
        launch: "12 Feb 2024",
        rating: 9.2,
        year: 2024,
        capabilities: ["Video"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://lumiere.google.com"
      },
      {
        id: 26,
        name: "OpusClip",
        company: "OpusClip",
        visits: "90M",
        change: 28.4,
        launch: "5 Apr 2023",
        rating: 8.7,
        year: 2023,
        capabilities: ["Video"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://opusclip.ai"
      },
      {
        id: 27,
        name: "Filmora AI",
        company: "Wondershare",
        visits: "130M",
        change: 12.6,
        launch: "18 Jan 2023",
        rating: 8.8,
        year: 2023,
        capabilities: ["Video"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://filmora.wondershare.com/ai"
      },
      {
        id: 28,
        name: "Upscayl",
        company: "Upscayl",
        visits: "85M",
        change: 10.7,
        launch: "3 Aug 2022",
        rating: 8.6,
        year: 2022,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://upscayl.org"
      },
      {
        id: 29,
        name: "Deep Dream Generator",
        company: "Deep Dream Generator",
        visits: "70M",
        change: 5.2,
        launch: "1 Jul 2015",
        rating: 8.3,
        year: 2015,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://deepdreamgenerator.com"
      },
      {
        id: 30,
        name: "Artbreeder",
        company: "Artbreeder",
        visits: "65M",
        change: 8.9,
        launch: "20 Sep 2018",
        rating: 8.4,
        year: 2018,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://artbreeder.com"
      },
      {
        id: 31,
        name: "ElevenLabs",
        company: "ElevenLabs, Inc.",
        visits: "290M",
        change: 22.8,
        launch: "1 Mar 2023",
        rating: 9.1,
        year: 2023,
        capabilities: ["Audio"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://elevenlabs.io"
      },
      {
        id: 32,
        name: "Murf",
        company: "Murf AI",
        visits: "110M",
        change: 16.4,
        launch: "12 May 2021",
        rating: 8.7,
        year: 2021,
        capabilities: ["Audio"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://murf.ai"
      },
      {
        id: 33,
        name: "Suno",
        company: "Suno AI",
        visits: "130M",
        change: 30.2,
        launch: "5 Dec 2023",
        rating: 9.0,
        year: 2023,
        capabilities: ["Audio"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://suno.ai"
      },
      {
        id: 34,
        name: "Udio",
        company: "Udio AI",
        visits: "85M",
        change: 14.7,
        launch: "18 Aug 2022",
        rating: 8.5,
        year: 2022,
        capabilities: ["Audio"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://udio.ai"
      },
      {
        id: 35,
        name: "AssemblyAI",
        company: "AssemblyAI",
        visits: "95M",
        change: 18.6,
        launch: "23 Jun 2017",
        rating: 8.8,
        year: 2017,
        capabilities: ["Audio", "Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://assemblyai.com"
      },
      {
        id: 36,
        name: "Descript",
        company: "Descript",
        visits: "120M",
        change: 15.3,
        launch: "5 Jan 2017",
        rating: 8.9,
        year: 2017,
        capabilities: ["Audio", "Video", "Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://descript.com"
      },
      {
        id: 37,
        name: "Voicemod",
        company: "Voicemod",
        visits: "100M",
        change: 13.7,
        launch: "12 Nov 2014",
        rating: 8.6,
        year: 2014,
        capabilities: ["Audio"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://voicemod.net"
      },
      {
        id: 38,
        name: "Resemble AI",
        company: "Resemble AI",
        visits: "80M",
        change: 17.5,
        launch: "15 Mar 2019",
        rating: 8.7,
        year: 2019,
        capabilities: ["Audio"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://resemble.ai"
      },
      {
        id: 39,
        name: "Cleanvoice AI",
        company: "Cleanvoice",
        visits: "70M",
        change: 12.8,
        launch: "8 Sep 2021",
        rating: 8.4,
        year: 2021,
        capabilities: ["Audio"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://cleanvoice.ai"
      },
      {
        id: 40,
        name: "VocalRemover",
        company: "VocalRemover",
        visits: "65M",
        change: 9.4,
        launch: "20 Jul 2020",
        rating: 8.3,
        year: 2020,
        capabilities: ["Audio"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://vocalremover.org"
      },
      {
        id: 41,
        name: "Zapier",
        company: "Zapier",
        visits: "180M",
        change: 14.7,
        launch: "8 Aug 2011",
        rating: 9.2,
        year: 2011,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://zapier.com"
      },
      {
        id: 42,
        name: "ClickUp",
        company: "ClickUp",
        visits: "150M",
        change: 20.5,
        launch: "15 Jan 2017",
        rating: 8.9,
        year: 2017,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://clickup.com"
      },
      {
        id: 43,
        name: "Asana",
        company: "Asana",
        visits: "210M",
        change: 8.3,
        launch: "28 Apr 2008",
        rating: 9.0,
        year: 2008,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://asana.com"
      },
      {
        id: 44,
        name: "Reclaim",
        company: "Reclaim.ai",
        visits: "85M",
        change: 25.6,
        launch: "9 Nov 2019",
        rating: 8.8,
        year: 2019,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://reclaim.ai"
      },
      {
        id: 45,
        name: "Clockwise",
        company: "Clockwise",
        visits: "90M",
        change: 19.4,
        launch: "11 May 2018",
        rating: 8.7,
        year: 2018,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://clockwise.ai"
      },
      {
        id: 46,
        name: "Motion",
        company: "Motion",
        visits: "75M",
        change: 22.8,
        launch: "3 Feb 2020",
        rating: 8.6,
        year: 2020,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://usemotion.com"
      },
      {
        id: 47,
        name: "HubSpot Email Writer",
        company: "HubSpot",
        visits: "130M",
        change: 15.9,
        launch: "15 Jul 2022",
        rating: 8.8,
        year: 2022,
        capabilities: ["Texto", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://hubspot.com/email-writer"
      },
      {
        id: 48,
        name: "Fathom",
        company: "Fathom",
        visits: "95M",
        change: 28.4,
        launch: "7 Sep 2022",
        rating: 8.9,
        year: 2022,
        capabilities: ["Texto", "Audio", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://fathom.video"
      },
      {
        id: 49,
        name: "Fireflies.ai",
        company: "Fireflies.ai",
        visits: "110M",
        change: 24.6,
        launch: "12 Mar 2019",
        rating: 9.0,
        year: 2019,
        capabilities: ["Audio", "Texto", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://fireflies.ai"
      },
      {
        id: 50,
        name: "Nyota",
        company: "Nyota AI",
        visits: "70M",
        change: 18.7,
        launch: "5 Oct 2022",
        rating: 8.5,
        year: 2022,
        capabilities: ["Texto", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://nyota.ai"
      },
      {
        id: 51,
        name: "Cursor",
        company: "Cursor",
        visits: "140M",
        change: 35.8,
        launch: "18 Feb 2023",
        rating: 9.1,
        year: 2023,
        capabilities: ["Código"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://cursor.sh"
      },
      {
        id: 52,
        name: "Bubble",
        company: "Bubble",
        visits: "170M",
        change: 16.2,
        launch: "15 Aug 2012",
        rating: 9.0,
        year: 2012,
        capabilities: ["Código", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://bubble.io"
      },
      {
        id: 53,
        name: "Bolt",
        company: "Bolt",
        visits: "85M",
        change: 28.1,
        launch: "20 Jun 2022",
        rating: 8.7,
        year: 2022,
        capabilities: ["Código"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://bolt.ai"
      },
      {
        id: 54,
        name: "Lovable",
        company: "Lovable",
        visits: "60M",
        change: 20.5,
        launch: "7 Jan 2023",
        rating: 8.4,
        year: 2023,
        capabilities: ["Código"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://lovable.ai"
      },
      {
        id: 55,
        name: "v0.dev",
        company: "Vercel",
        visits: "125M",
        change: 42.3,
        launch: "25 Sep 2023",
        rating: 9.2,
        year: 2023,
        capabilities: ["Código"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://v0.dev"
      },
      {
        id: 56,
        name: "GitHub Copilot",
        company: "GitHub/Microsoft",
        visits: "320M",
        change: 8.9,
        launch: "29 Jun 2022",
        rating: 9.3,
        year: 2022,
        capabilities: ["Código"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://github.com/features/copilot"
      },
      {
        id: 57,
        name: "Amazon CodeWhisperer",
        company: "Amazon",
        visits: "160M",
        change: 12.7,
        launch: "15 Apr 2023",
        rating: 8.8,
        year: 2023,
        capabilities: ["Código"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://aws.amazon.com/codewhisperer"
      },
      {
        id: 58,
        name: "Replit Ghostwriter",
        company: "Replit",
        visits: "140M",
        change: 18.4,
        launch: "22 Mar 2023",
        rating: 8.9,
        year: 2023,
        capabilities: ["Código"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://replit.com/ghostwriter"
      },
      {
        id: 59,
        name: "Tabnine",
        company: "Tabnine",
        visits: "95M",
        change: 10.8,
        launch: "5 May 2018",
        rating: 8.6,
        year: 2018,
        capabilities: ["Código"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://tabnine.com"
      },
      {
        id: 60,
        name: "Kite",
        company: "Kite",
        visits: "45M",
        change: -3.2,
        launch: "10 Apr 2015",
        rating: 7.8,
        year: 2015,
        capabilities: ["Código"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://kite.com"
      },
      {
        id: 61,
        name: "Canva",
        company: "Canva",
        visits: "220M",
        change: 18.5,
        launch: "21 Jan 2013",
        rating: 9.4,
        year: 2013,
        capabilities: ["Imagen", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://canva.com"
      },
      {
        id: 62,
        name: "Copy.ai",
        company: "Copy.ai",
        visits: "130M",
        change: 14.7,
        launch: "18 Sep 2020",
        rating: 8.7,
        year: 2020,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://copy.ai"
      },
      {
        id: 63,
        name: "Jasper",
        company: "Jasper",
        visits: "170M",
        change: 9.5,
        launch: "12 Feb 2021",
        rating: 8.9,
        year: 2021,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://jasper.ai"
      },
      {
        id: 64,
        name: "Writesonic",
        company: "Writesonic",
        visits: "110M",
        change: 13.8,
        launch: "5 Aug 2020",
        rating: 8.6,
        year: 2020,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://writesonic.com"
      },
      {
        id: 65,
        name: "Liner",
        company: "Liner",
        visits: "75M",
        change: 8.4,
        launch: "20 Jun 2018",
        rating: 8.3,
        year: 2018,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://getliner.com"
      },
      {
        id: 66,
        name: "Eightify",
        company: "Eightify",
        visits: "65M",
        change: 16.7,
        launch: "15 Jan 2023",
        rating: 8.5,
        year: 2023,
        capabilities: ["Video", "Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://eightify.app"
      },
      {
        id: 67,
        name: "Phind",
        company: "Phind",
        visits: "90M",
        change: 27.3,
        launch: "2 Mar 2023",
        rating: 8.8,
        year: 2023,
        capabilities: ["Texto", "Razonamiento"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://phind.com"
      },
      {
        id: 68,
        name: "MaxAI",
        company: "MaxAI",
        visits: "60M",
        change: 19.5,
        launch: "8 Sep 2022",
        rating: 8.4,
        year: 2022,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://maxai.me"
      },
      {
        id: 69,
        name: "Blackbox AI",
        company: "Blackbox",
        visits: "85M",
        change: 23.6,
        launch: "12 Nov 2022",
        rating: 8.7,
        year: 2022,
        capabilities: ["Código"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://blackbox.ai"
      },
      {
        id: 70,
        name: "Otter.ai",
        company: "Otter.ai",
        visits: "140M",
        change: 16.8,
        launch: "15 Feb 2018",
        rating: 9.0,
        year: 2018,
        capabilities: ["Audio", "Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://otter.ai"
      },
      {
        id: 71,
        name: "ChatPDF",
        company: "ChatPDF",
        visits: "110M",
        change: 32.5,
        launch: "3 Apr 2023",
        rating: 8.9,
        year: 2023,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://chatpdf.com"
      },
      {
        id: 72,
        name: "Cutout.pro",
        company: "Cutout.pro",
        visits: "85M",
        change: 14.3,
        launch: "21 Jul 2020",
        rating: 8.6,
        year: 2020,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://cutout.pro"
      },
      {
        id: 73,
        name: "Craiyon",
        company: "Craiyon",
        visits: "70M",
        change: 10.7,
        launch: "10 May 2022",
        rating: 8.4,
        year: 2022,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://craiyon.com"
      },
      {
        id: 74,
        name: "Hotpot.ai",
        company: "Hotpot.ai",
        visits: "65M",
        change: 12.5,
        launch: "8 Aug 2021",
        rating: 8.3,
        year: 2021,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://hotpot.ai"
      },
      {
        id: 75,
        name: "Leonardo.ai",
        company: "Leonardo.ai",
        visits: "130M",
        change: 28.6,
        launch: "5 Dec 2022",
        rating: 9.1,
        year: 2022,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://leonardo.ai"
      },
      {
        id: 76,
        name: "DeepAI",
        company: "DeepAI",
        visits: "90M",
        change: 15.2,
        launch: "18 Mar 2018",
        rating: 8.7,
        year: 2018,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://deepai.org"
      },
      {
        id: 77,
        name: "Tome.app",
        company: "Tome",
        visits: "120M",
        change: 30.4,
        launch: "20 Oct 2022",
        rating: 9.0,
        year: 2022,
        capabilities: ["Texto", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://tome.app"
      },
      {
        id: 78,
        name: "Stablediffusionweb.com",
        company: "Stability AI",
        visits: "180M",
        change: 8.3,
        launch: "22 Aug 2022",
        rating: 9.2,
        year: 2022,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://stablediffusionweb.com"
      },
      {
        id: 79,
        name: "Gamma",
        company: "Gamma",
        visits: "95M",
        change: 25.7,
        launch: "15 Nov 2022",
        rating: 8.8,
        year: 2022,
        capabilities: ["Texto", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://gamma.app"
      },
      {
        id: 80,
        name: "Presentations.ai",
        company: "Presentations.ai",
        visits: "75M",
        change: 16.9,
        launch: "8 Jan 2023",
        rating: 8.5,
        year: 2023,
        capabilities: ["Texto", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://presentations.ai"
      },
      {
        id: 81,
        name: "Teal",
        company: "Teal",
        visits: "60M",
        change: 14.2,
        launch: "2 Apr 2020",
        rating: 8.4,
        year: 2020,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://tealhq.com"
      },
      {
        id: 82,
        name: "Kickresume",
        company: "Kickresume",
        visits: "55M",
        change: 9.6,
        launch: "15 May 2015",
        rating: 8.2,
        year: 2015,
        capabilities: ["Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://kickresume.com"
      },
      {
        id: 83,
        name: "AdCreative",
        company: "AdCreative.ai",
        visits: "85M",
        change: 18.3,
        launch: "10 Jul 2021",
        rating: 8.7,
        year: 2021,
        capabilities: ["Imagen", "Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://adcreative.ai"
      },
      {
        id: 84,
        name: "Clay",
        company: "Clay",
        visits: "70M",
        change: 15.7,
        launch: "5 Sep 2020",
        rating: 8.5,
        year: 2020,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://clay.com"
      },
      {
        id: 85,
        name: "Hiver",
        company: "Hiver",
        visits: "65M",
        change: 11.4,
        launch: "12 Aug 2011",
        rating: 8.4,
        year: 2011,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://hiverhq.com"
      },
      {
        id: 86,
        name: "Tidio AI",
        company: "Tidio",
        visits: "80M",
        change: 19.8,
        launch: "18 Jun 2018",
        rating: 8.6,
        year: 2018,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://tidio.com/ai"
      },
      {
        id: 87,
        name: "CVViZ",
        company: "CVViZ",
        visits: "50M",
        change: 12.6,
        launch: "3 Mar 2019",
        rating: 8.1,
        year: 2019,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://cvviz.com"
      },
      {
        id: 88,
        name: "Guru",
        company: "Guru",
        visits: "75M",
        change: 8.9,
        launch: "25 Sep 2015",
        rating: 8.5,
        year: 2015,
        capabilities: ["Texto", "Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://getguru.com"
      },
      {
        id: 89,
        name: "Sembly",
        company: "Sembly AI",
        visits: "55M",
        change: 15.3,
        launch: "8 Aug 2021",
        rating: 8.3,
        year: 2021,
        capabilities: ["Audio", "Texto"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://sembly.ai"
      },
      {
        id: 90,
        name: "Clara",
        company: "Clara Labs",
        visits: "45M",
        change: 7.8,
        launch: "12 May 2014",
        rating: 8.0,
        year: 2014,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://claralabs.com"
      },
      {
        id: 91,
        name: "Rephrase.ai",
        company: "Rephrase.ai",
        visits: "70M",
        change: 21.5,
        launch: "7 Nov 2019",
        rating: 8.6,
        year: 2019,
        capabilities: ["Video"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://rephrase.ai"
      },
      {
        id: 92,
        name: "Pictory",
        company: "Pictory",
        visits: "85M",
        change: 18.7,
        launch: "15 Jan 2021",
        rating: 8.7,
        year: 2021,
        capabilities: ["Video"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://pictory.ai"
      },
      {
        id: 93,
        name: "Lovo",
        company: "Lovo AI",
        visits: "60M",
        change: 12.4,
        launch: "10 Mar 2020",
        rating: 8.3,
        year: 2020,
        capabilities: ["Audio"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://lovo.ai"
      },
      {
        id: 94,
        name: "WellSaid",
        company: "WellSaid Labs",
        visits: "55M",
        change: 9.6,
        launch: "5 Feb 2019",
        rating: 8.2,
        year: 2019,
        capabilities: ["Audio"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://wellsaidlabs.com"
      },
      {
        id: 95,
        name: "Boomy",
        company: "Boomy Corporation",
        visits: "50M",
        change: 14.8,
        launch: "22 Apr 2021",
        rating: 8.1,
        year: 2021,
        capabilities: ["Audio"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://boomy.com"
      },
      {
        id: 96,
        name: "Stockimg.ai",
        company: "Stockimg.ai",
        visits: "65M",
        change: 15.2,
        launch: "18 Jul 2022",
        rating: 8.4,
        year: 2022,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://stockimg.ai"
      },
      {
        id: 97,
        name: "ColorMind",
        company: "ColorMind",
        visits: "40M",
        change: 5.7,
        launch: "3 Jan 2017",
        rating: 7.9,
        year: 2017,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "http://colormind.io"
      },
      {
        id: 98,
        name: "PhotoRoom",
        company: "PhotoRoom",
        visits: "90M",
        change: 24.6,
        launch: "15 Jun 2020",
        rating: 8.8,
        year: 2020,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://photoroom.com"
      },
      {
        id: 99,
        name: "FaceApp",
        company: "FaceApp Inc.",
        visits: "120M",
        change: 6.5,
        launch: "15 Jan 2017",
        rating: 8.5,
        year: 2017,
        capabilities: ["Imagen"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://faceapp.com"
      },
      {
        id: 100,
        name: "Sora",
        company: "OpenAI",
        visits: "180M",
        change: 45.7,
        launch: "15 Feb 2024",
        rating: 9.5,
        year: 2024,
        capabilities: ["Video"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://openai.com/sora"
      },
      {
        id: 101,
        name: "n8n",
        company: "n8n",
        visits: "45M",
        change: 22.3,
        launch: "12 Mar 2019",
        rating: 8.4,
        year: 2019,
        capabilities: ["Automatización"],
        logo: "imagenes/default.png", // Imagen por defecto (no disponible)
        website: "https://n8n.io"
      }
    ];

    // Función para verificar si una imagen existe
    function imageExists(url) {
      // Esta función no puede verificar realmente si la imagen existe 
      // en el cliente por limitaciones de CORS y seguridad.
      // Por lo tanto, usaremos un enfoque de manejo de errores en la carga de la imagen.
      return true;
    }
    
    // Script principal sin dependencias de localStorage
    document.addEventListener('DOMContentLoaded', function() {
      // Variables para estado temporal
      let isDarkMode = false;
      let showFavorites = false;
      let currentCategory = 'todas';
      let currentPage = 1;
      let favorites = [];
      let searchTerm = '';
      const itemsPerPage = 25; // Mostrar 25 IAs por página
      
      // Obtener referencias a los elementos del DOM
      const darkModeToggle = document.getElementById('dark-mode-toggle');
      const favoritesToggle = document.getElementById('favorites-toggle');
      
      // Función para almacenar datos en localStorage o en memoria si no está disponible
      function safeStorage(key, value) {
        try {
          if (value === undefined) {
            // Obtener valor
            const storedValue = localStorage.getItem(key);
            return storedValue ? JSON.parse(storedValue) : null;
          } else {
            // Establecer valor
            localStorage.setItem(key, JSON.stringify(value));
            return true;
          }
        } catch (error) {
          console.log('Storage no disponible:', error.message);
          return value === undefined ? null : false;
        }
      }
      
      // Funciones para manipular el modo oscuro
      function enableDarkMode() {
        isDarkMode = true;
        document.body.classList.add('dark-mode');
        if (darkModeToggle) {
          darkModeToggle.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>';
        }
      }
      
      function disableDarkMode() {
        isDarkMode = false;
        document.body.classList.remove('dark-mode');
        if (darkModeToggle) {
          darkModeToggle.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg>';
        }
      }
      
      // Función para actualizar el botón de favoritos
      function updateFavoritesButton() {
        if (favoritesToggle) {
          if (showFavorites) {
            favoritesToggle.style.color = 'var(--warning)';
            favoritesToggle.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';
          } else {
            favoritesToggle.style.color = '';
            favoritesToggle.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';
          }
          
          updateFavoritesCount();
        }
      }
      
      // Función para actualizar el contador de favoritos
      function updateFavoritesCount() {
        if (favoritesToggle) {
          let badge = favoritesToggle.querySelector('.button-badge');
          
          if (favorites.length > 0) {
            if (!badge) {
              badge = document.createElement('span');
              badge.className = 'button-badge';
              favoritesToggle.appendChild(badge);
            }
            badge.textContent = favorites.length;
          } else {
            if (badge) {
              badge.remove();
            }
          }
        }
      }
      
      // Función para establecer la categoría activa
      function setActiveCategory(category) {
        currentCategory = category;
        const categoryButtons = document.querySelectorAll('.filter-button, .filter-button.active');
        
        categoryButtons.forEach(button => {
          const buttonCategory = button.getAttribute('data-category');
          if (buttonCategory === category) {
            // Para la categoría seleccionada
            button.classList.add('active');
          } else {
            // Para otras categorías
            button.classList.remove('active');
          }
        });
      }
      
      // Función para filtrar IAs
      function getFilteredIAs() {
        return allIAs.filter(ai => {
          // Filtrar por búsqueda
          const matchesSearch = searchTerm === '' || 
                               ai.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                               ai.company.toLowerCase().includes(searchTerm.toLowerCase());
          
          // Filtrar por categoría
          let matchesCategory = true;
          if (currentCategory !== 'todas') {
            // Convertimos Automatización a automatizacion para comparar
            const normalizedCapabilities = ai.capabilities.map(c => {
              if (c === 'Automatización') return 'automatizacion';
              if (c === 'Código') return 'codigo';
              return c.toLowerCase();
            });
            
            matchesCategory = normalizedCapabilities.includes(currentCategory.toLowerCase());
          }
          
          // Filtrar por favoritos
          const matchesFavorites = !showFavorites || favorites.includes(ai.id);
          
          return matchesSearch && matchesCategory && matchesFavorites;
        });
      }
      
      // Función para mostrar notificación
      function showNotification(message, iconType) {
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notification-text');
        const notificationIcon = document.getElementById('notification-icon');
        
        // Establecer mensaje y tipo de icono
        notificationText.textContent = message;
        
        if (iconType === 'star-fill') {
          notificationIcon.innerHTML = '<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>';
          notificationIcon.setAttribute('fill', 'currentColor');
        } else {
          notificationIcon.innerHTML = '<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>';
          notificationIcon.setAttribute('fill', 'none');
        }
        
        // Mostrar notificación
        notification.classList.add('visible');
        
        // Ocultar después de 3 segundos
        setTimeout(() => {
          notification.classList.remove('visible');
        }, 3000);
      }
      
      // Función para manejar favoritos
      function toggleFavorite(id) {
        const index = favorites.indexOf(id);
        
        if (index === -1) {
          // Añadir a favoritos
          favorites.push(id);
          showNotification('Añadido a favoritos', 'star-fill');
        } else {
          // Quitar de favoritos
          favorites.splice(index, 1);
          showNotification('Eliminado de favoritos', 'star');
        }
        
        // Guardar favoritos en localStorage
        safeStorage('aiMarketCapFavorites', favorites);
        
        // Actualizar el contador de favoritos
        updateFavoritesCount();
        
        // Si estamos mostrando solo favoritos, actualizar la tabla
        if (showFavorites) {
          updateTable();
        } else {
          // Si no, solo actualizamos las estrellas visibles
          const favoriteStars = document.querySelectorAll('.favorite-star');
          favoriteStars.forEach(star => {
            const aiId = parseInt(star.getAttribute('data-id'));
            if (favorites.includes(aiId)) {
              star.classList.add('active');
              star.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';
            } else {
              star.classList.remove('active');
              star.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';
            }
          });
        }
      }
      
      // Función para manejar errores de carga de imágenes
      function handleImageError(img) {
        // Si la imagen falla al cargar, usar una imagen de respaldo genérica
        img.onerror = null; // Evitar bucles infinitos
        img.src = 'imagenes/default.png'; // Imagen por defecto (asegúrate de crear este archivo también)
      }
      
      // Actualizar la tabla con los datos filtrados
      function updateTable() {
        const filteredIAs = getFilteredIAs();
        const tableBody = document.getElementById('ai-table-body');
        
        // Calcular IAs para la página actual
        const indexOfLastItem = currentPage * itemsPerPage;
        const indexOfFirstItem = indexOfLastItem - itemsPerPage;
        const currentIAs = filteredIAs.slice(indexOfFirstItem, indexOfLastItem);
        
        // Limpiar la tabla
        tableBody.innerHTML = '';
        
        // Mostrar mensaje si no hay resultados
        if (currentIAs.length === 0) {
          const emptyRow = document.createElement('tr');
          emptyRow.innerHTML = `
            <td colspan="9">
              <div class="empty-state">
                <div class="empty-icon">
                  ${showFavorites ? '⭐' : '🔍'}
                </div>
                <div class="empty-title">No se encontraron resultados</div>
                <div class="empty-description">
                  ${showFavorites 
                    ? 'No tienes IAs marcadas como favoritas. Marca algunas para verlas aquí.' 
                    : 'Intenta con otra búsqueda o categoría.'}
                </div>
              </div>
            </td>
          `;
          tableBody.appendChild(emptyRow);
        } else {
          // Generar filas de la tabla
          currentIAs.forEach((ai, index) => {
            const row = document.createElement('tr');
            
            // Aplicar clase especial para top 3
            if (currentCategory === 'todas' && !showFavorites && searchTerm === '' && ai.id <= 3) {
              row.classList.add('top-' + ai.id);
            }
            
            // Verificar si es favorito
            const isFavorite = favorites.includes(ai.id);
            const starIcon = isFavorite
              ? '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>'
              : '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';
            
            // Calcular el número real en la lista
            const aiRank = indexOfFirstItem + index + 1;
            
            // Icono de enlace web
            const webLinkIcon = `<a href="${ai.website}" target="_blank" class="web-link" title="Visitar web">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                <polyline points="15 3 21 3 21 9"></polyline>
                <line x1="10" y1="14" x2="21" y2="3"></line>
              </svg>
            </a>`;
            
            // Crear HTML para las capacidades con límite uniforme
            let capabilitiesHTML = '';
            const maxVisibleCapabilities = 2; // Mostrar solo 2 capacidades por defecto
            
            if (ai.capabilities.length <= maxVisibleCapabilities) {
              // Si hay 2 o menos capacidades, mostrarlas todas
              capabilitiesHTML = ai.capabilities.map(cap => `<span class="badge">${cap}</span>`).join('');
            } else {
              // Si hay más de 2 capacidades, mostrar 2 y agregar un "+X"
              const visibleCapabilities = ai.capabilities.slice(0, maxVisibleCapabilities);
              const hiddenCapabilities = ai.capabilities.slice(maxVisibleCapabilities);
              
              const visibleHTML = visibleCapabilities.map(cap => `<span class="badge">${cap}</span>`).join('');
              const hiddenHTML = hiddenCapabilities.map(cap => `<span class="badge badge-hidden">${cap}</span>`).join('');
              const moreButton = `<span class="badge-more" data-ai-id="${ai.id}">+${hiddenCapabilities.length}</span>`;
              
              capabilitiesHTML = visibleHTML + moreButton + hiddenHTML;
            }
            
              // Calcular el icono y la clase para el cambio
              const changeValue = ai.change;
              let changeHTML = '';
              
              if (changeValue > 0) {
                changeHTML = `
                  <div class="change-value change-positive">
                    <svg class="change-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <polyline points="18 15 12 9 6 15"></polyline>
                    </svg>
                    ${changeValue}%
                  </div>
                `;
              } else if (changeValue < 0) {
                changeHTML = `
                  <div class="change-value change-negative">
                    <svg class="change-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                    ${Math.abs(changeValue)}%
                  </div>
                `;
              } else {
                changeHTML = `
                  <div class="change-value">
                    0%
                  </div>
                `;
              }
              
              row.innerHTML = `
                <td>
                  <div class="favorite-star ${isFavorite ? 'active' : ''}" data-id="${ai.id}">
                    ${starIcon}
                  </div>
                </td>
                <td>
                  <div class="rank">${aiRank}</div>
                </td>
                <td>
                  <div class="ai-info">
                    <img src="${ai.logo}" alt="${ai.name}" class="ai-logo" onerror="this.onerror=null; this.src='imagenes/default.png';">
                    <div class="ai-details">
                      <div class="ai-name">${ai.name}</div>
                      <div class="ai-company">${ai.company}</div>
                    </div>
                  </div>
                </td>
                <td>
                  ${webLinkIcon}
                </td>
                <td>
                  <div class="visit-count">${ai.visits}</div>
                </td>
                <td>
                  ${changeHTML}
                </td>
                <td>
                  <div class="year">${ai.year}</div>
                </td>
                <td>
                  <div class="rating-container">
                    <div class="rating-bar">
                      <div class="rating-progress" style="width: ${(ai.rating/10)*100}%"></div>
                    </div>
                    <div class="rating-value">${ai.rating}</div>
                  </div>
                </td>
                <td>
                  <div class="badge-container" data-ai-id="${ai.id}">
                    ${capabilitiesHTML}
                  </div>
                </td>
              `;
            
            tableBody.appendChild(row);
          });
          
          // Añadir eventos a las estrellas de favoritos
          const favoriteStars = document.querySelectorAll('.favorite-star');
          favoriteStars.forEach(star => {
            star.addEventListener('click', function(e) {
              e.stopPropagation(); // Evitar que el clic se propague a la fila
              const aiId = parseInt(this.getAttribute('data-id'));
              toggleFavorite(aiId);
            });
          });
          
          // Añadir eventos a los botones "+X más"
          const moreButtons = document.querySelectorAll('.badge-more');
          moreButtons.forEach(button => {
            button.addEventListener('click', function(e) {
              e.stopPropagation(); // Evitar que el clic se propague a la fila
              const aiId = this.getAttribute('data-ai-id');
              const container = document.querySelector(`.badge-container[data-ai-id="${aiId}"]`);
              container.classList.toggle('capabilities-expanded');
              
              // Cambiar el texto del botón
              if (container.classList.contains('capabilities-expanded')) {
                this.textContent = 'Menos';
                this.style.order = '999'; // Mover el botón al final cuando está expandido
              } else {
                const hiddenBadges = container.querySelectorAll('.badge-hidden').length;
                this.textContent = `+${hiddenBadges}`;
                this.style.order = ''; // Restaurar el orden original
              }
            });
          });
        }
        
        // Actualizar información de paginación
        updatePagination(filteredIAs.length);
      }
      
      // Actualizar la paginación
      function updatePagination(totalItems) {
        const totalPages = Math.ceil(totalItems / itemsPerPage);
        const paginationContainer = document.getElementById('pagination-container');
        const pageInfo = document.getElementById('page-info');
        
        // Actualizar información de página
        pageInfo.innerHTML = `
          Mostrando <strong>${totalItems === 0 ? 0 : Math.min(totalItems, (currentPage - 1) * itemsPerPage + 1)}</strong> a 
          <strong>${Math.min(totalItems, currentPage * itemsPerPage)}</strong> de <strong>${totalItems}</strong> IAs
        `;
        
        // Limpiar contenedor de paginación
        paginationContainer.innerHTML = '';
        
        // No mostrar paginación si no hay resultados
        if (totalItems === 0) return;
        
        // Crear botones de paginación
        // Botón anterior
        const prevButton = document.createElement('button');
        prevButton.className = `page-button${currentPage === 1 ? ' disabled' : ''}`;
        prevButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>';
        prevButton.disabled = currentPage === 1;
        prevButton.addEventListener('click', () => {
          if (currentPage > 1) {
            currentPage--;
            updateTable();
          }
        });
        paginationContainer.appendChild(prevButton);
        
        // Botones de página
        const maxButtons = 5;
        let startPage = Math.max(1, currentPage - Math.floor(maxButtons / 2));
        let endPage = Math.min(totalPages, startPage + maxButtons - 1);
        
        if (endPage - startPage + 1 < maxButtons) {
          startPage = Math.max(1, endPage - maxButtons + 1);
        }
        
        for (let i = startPage; i <= endPage; i++) {
          const pageButton = document.createElement('button');
          pageButton.className = `page-button${i === currentPage ? ' active' : ''}`;
          pageButton.textContent = i;
          pageButton.addEventListener('click', () => {
            currentPage = i;
            updateTable();
          });
          paginationContainer.appendChild(pageButton);
        }
        
        // Botón siguiente
        const nextButton = document.createElement('button');
        nextButton.className = `page-button${currentPage === totalPages ? ' disabled' : ''}`;
        nextButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>';
        nextButton.disabled = currentPage === totalPages;
        nextButton.addEventListener('click', () => {
          if (currentPage < totalPages) {
            currentPage++;
            updateTable();
          }
        });
        paginationContainer.appendChild(nextButton);
      }
      
      // Intentar cargar configuración guardada
      try {
        // Intentar cargar favoritos
        const storedFavorites = safeStorage('aiMarketCapFavorites');
        if (storedFavorites) {
          favorites = storedFavorites;
        }
        
        // Intentar cargar el tema
        const storedDarkMode = safeStorage('aiMarketCapDarkMode');
        if (storedDarkMode !== null) {
          isDarkMode = storedDarkMode;
          if (isDarkMode) {
            enableDarkMode();
          }
        } else {
          // Detectar preferencia del sistema
          const prefersDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          if (prefersDarkMode) {
            isDarkMode = true;
            enableDarkMode();
          }
        }
      } catch (e) {
        console.log('Error al cargar configuración:', e.message);
      }
      
      // Inicializar la tabla
      updateTable();
      
      // Configurar los event listeners
      
      // Barra de búsqueda
      const searchInput = document.getElementById('search-input');
      if (searchInput) {
        searchInput.addEventListener('input', function() {
          searchTerm = this.value;
          currentPage = 1;
          updateTable();
        });
      }
      
      // Botón modo oscuro
      if (darkModeToggle) {
        darkModeToggle.addEventListener('click', function() {
          isDarkMode = !isDarkMode;
          if (isDarkMode) {
            enableDarkMode();
          } else {
            disableDarkMode();
          }
          
          safeStorage('aiMarketCapDarkMode', isDarkMode);
        });
      }
      
      // Botón favoritos
      if (favoritesToggle) {
        updateFavoritesButton(); // Actualizar el botón al inicio
        
        favoritesToggle.addEventListener('click', function() {
          showFavorites = !showFavorites;
          updateFavoritesButton();
          currentPage = 1;
          updateTable();
        });
      }
      
      // Botones de categoría
      const categoryButtons = document.querySelectorAll('.filter-button, .filter-button.active');
      categoryButtons.forEach(button => {
        button.addEventListener('click', function() {
          const category = this.getAttribute('data-category');
          setActiveCategory(category);
          currentPage = 1;
          updateTable();
        });
      });
    });
