<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIMarketCap - Plataforma de Ranking de IAs</title>
  
  <!-- Estilos inline para evitar dependencias externas -->
  <style>
    /* Fuentes */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    /* Variables CSS para tema oscuro por defecto */
    :root {
      --primary: #3b82f6;
      --primary-dark: #2563eb;
      --primary-light: #60a5fa;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --bg-primary: #121826;
      --bg-secondary: #1a2234;
      --bg-tertiary: #0f172a;
      --bg-accent: #1e3a8a;
      --card-bg: #1e293b;
      --card-bg-alt: #17203a;
      --border: #374151;
      --text-primary: #f9fafb;
      --text-secondary: #e5e7eb;
      --text-tertiary: #d1d5db;
      --text-muted: #9ca3af;
      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
      --shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
      --radius-sm: 0.25rem;
      --radius: 0.5rem;
      --radius-lg: 0.75rem;
      --radius-full: 9999px;
      --transition: all 0.2s ease;
      --transition-theme: background-color 0.4s ease, color 0.4s ease, box-shadow 0.4s ease;
      --accent-neon: #4ade80;
      --accent-glow: 0 0 10px rgba(74, 222, 128, 0.5);
      
      /* Colores de premio para top 3 */
      --gold: linear-gradient(135deg, #f6e05e 0%, #fbbf24 50%, #d97706 100%);
      --silver: linear-gradient(135deg, #e5e7eb 0%, #9ca3af 50%, #6b7280 100%);
      --bronze: linear-gradient(135deg, #d97706 0%, #b45309 50%, #92400e 100%);
      --gold-border: rgba(251, 191, 36, 0.5);
      --silver-border: rgba(156, 163, 175, 0.5);
      --bronze-border: rgba(217, 119, 6, 0.5);
      --gold-shadow: 0 0 15px rgba(251, 191, 36, 0.4);
      --silver-shadow: 0 0 15px rgba(156, 163, 175, 0.3);
      --bronze-shadow: 0 0 15px rgba(217, 119, 6, 0.3);
      
      /* Variables para el tema claro */
      --light-bg-primary: #ffffff;
      --light-bg-secondary: #f9fafb;
      --light-bg-tertiary: #f3f4f6;
      --light-card-bg: #ffffff;
      --light-card-bg-alt: #f7f9fc;
      --light-border: #e5e7eb;
      --light-text-primary: #111827;
      --light-text-secondary: #4b5563;
      --light-text-tertiary: #6b7280;
    }
    
    /* Variables modo claro */
    .light-mode {
      --bg-primary: var(--light-bg-primary);
      --bg-secondary: var(--light-bg-secondary);
      --bg-tertiary: var(--light-bg-tertiary);
      --card-bg: var(--light-card-bg);
      --card-bg-alt: var(--light-card-bg-alt);
      --border: var(--light-border);
      --text-primary: var(--light-text-primary);
      --text-secondary: var(--light-text-secondary);
      --text-tertiary: var(--light-text-tertiary);
    }
    
    /* Estilos base */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      transition: var(--transition);
    }
    
    body, html {
      transition: var(--transition-theme);
    }
    
    html {
      font-size: 16px;
      scroll-behavior: smooth;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      min-height: 100vh;
    }
    
    /* Contenedor */
    .container {
      width: 100%;
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }
    
    /* Animaciones */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    @keyframes slideUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }
    
    @keyframes glow {
      0% { box-shadow: 0 0 5px rgba(59, 130, 246, 0.5); }
      50% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.8); }
      100% { box-shadow: 0 0 5px rgba(59, 130, 246, 0.5); }
    }
    
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }
    
    /* Barra de navegaci√≥n */
    .header {
      background-color: var(--bg-primary);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 50;
      padding: 1rem 0;
      transition: var(--transition-theme);
    }
    
    .nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .logo:hover {
      color: var(--primary-light);
      text-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
    }
    
    .nav-items {
      display: flex;
      gap: 0.75rem;
    }
    
    .button {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2.5rem;
      height: 2.5rem;
      border-radius: var(--radius-full);
      border: none;
      background-color: var(--bg-secondary);
      cursor: pointer;
      color: var(--text-tertiary);
      position: relative;
    }
    
    .button:hover {
      background-color: var(--bg-accent);
      color: var(--primary-light);
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    .button:active {
      transform: translateY(0);
      box-shadow: var(--shadow-sm);
    }
    
    .button svg {
      width: 1.25rem;
      height: 1.25rem;
      transition: var(--transition);
    }
    
    .button-badge {
      position: absolute;
      top: -0.25rem;
      right: -0.25rem;
      background-color: var(--primary);
      color: white;
      border-radius: var(--radius-full);
      font-size: 0.75rem;
      font-weight: 600;
      min-width: 1.25rem;
      height: 1.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 0.25rem;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }
    
    /* Filtros mejorados */
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin: 1.5rem 0;
      overflow-x: auto;
      padding: 0.5rem 0;
      scrollbar-width: thin;
      scrollbar-color: var(--text-muted) transparent;
    }
    
    .filters::-webkit-scrollbar {
      height: 4px;
    }
    
    .filters::-webkit-scrollbar-track {
      background: transparent;
    }
    
    .filters::-webkit-scrollbar-thumb {
      background-color: var(--text-muted);
      border-radius: var(--radius-full);
    }
    
    .filter-button {
      padding: 0.5rem 1rem;
      border-radius: var(--radius-full);
      font-size: 0.875rem;
      font-weight: 500;
      border: none;
      cursor: pointer;
      white-space: nowrap;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background-color: var(--bg-secondary);
      color: var(--text-secondary);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .filter-button svg {
      width: 1rem;
      height: 1rem;
    }
    
    .filter-button.active {
      background-color: var(--primary);
      color: white;
      box-shadow: var(--shadow-md);
    }
    
    .filter-button:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    .filter-button.active:hover {
      box-shadow: 0 0 10px rgba(59, 130, 246, 0.4);
    }
    
    /* Tabla mejorada */
    .card {
      background-color: var(--card-bg);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      margin-bottom: 1.5rem;
      animation: slideUp 0.4s ease-out;
      transition: var(--transition-theme);
    }
    
    .table-container {
      overflow-x: auto;
      scrollbar-width: thin;
      scrollbar-color: var(--text-muted) transparent;
      transition: var(--transition-theme);
    }
    
    .table-container::-webkit-scrollbar {
      height: 8px;
    }
    
    .table-container::-webkit-scrollbar-track {
      background: transparent;
    }
    
    .table-container::-webkit-scrollbar-thumb {
      background-color: var(--text-muted);
      border-radius: var(--radius-full);
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
    }
    
    thead {
      background-color: var(--bg-secondary);
      position: sticky;
      top: 0;
      z-index: 10;
      box-shadow: 0 1px 0 var(--border);
      transition: var(--transition-theme);
    }
    
    th {
      text-align: left;
      padding: 1rem 1.5rem;
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--text-tertiary);
      text-transform: uppercase;
      letter-spacing: 0.075em;
      transition: var(--transition-theme);
    }
    
    td {
      padding: 1rem 1.5rem;
      border-top: 1px solid var(--border);
      vertical-align: middle;
      transition: var(--transition-theme);
    }
    
    tr {
      position: relative;
      transition: all 0.2s ease;
      background-color: var(--card-bg);
    }
    
    /* Zebra striping */
    tbody tr:nth-child(even) {
      background-color: var(--card-bg-alt);
    }
    
    /* Hover de filas con microinteracciones */
    tr:hover {
      background-color: var(--bg-secondary) !important;
      transform: scale(1.005);
      box-shadow: var(--shadow-md);
      z-index: 5;
    }
    
    /* Mejoras Top 3 */
    .top-1, .top-2, .top-3 {
      position: relative;
      overflow: hidden;
    }
    
    .top-1 {
      background-color: rgba(251, 191, 36, 0.1);
      box-shadow: inset 0 0 0 1px var(--gold-border), var(--gold-shadow);
    }
    
    .top-2 {
      background-color: rgba(229, 231, 235, 0.05);
      box-shadow: inset 0 0 0 1px var(--silver-border), var(--silver-shadow);
    }
    
    .top-3 {
      background-color: rgba(217, 119, 6, 0.08);
      box-shadow: inset 0 0 0 1px var(--bronze-border), var(--bronze-shadow);
    }
    
    .top-1::before, .top-2::before, .top-3::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 4px;
      transition: var(--transition);
    }
    
    .top-1::before {
      background: var(--gold);
    }
    
    .top-2::before {
      background: var(--silver);
    }
    
    .top-3::before {
      background: var(--bronze);
    }
    
    /* Columnas espec√≠ficas */
    th:nth-child(1), td:nth-child(1) { /* Ranking */
      width: 60px;
    }
    
    th:nth-child(2), td:nth-child(2) { /* IA */
      width: 260px;
    }
    
    th:nth-child(3), td:nth-child(3) { /* Visitas */
      width: 100px;
    }
    
    th:nth-child(4), td:nth-child(4) { /* Cambio */
      width: 100px;
    }
    
    th:nth-child(5), td:nth-child(5) { /* A√±o */
      width: 80px;
    }
    
    th:nth-child(6), td:nth-child(6) { /* Valoraci√≥n */
      width: 120px;
    }
    
    /* Elementos de la tabla mejorados */
    .rank {
      font-weight: 600;
      width: 2rem;
      height: 2rem;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--bg-secondary);
      position: relative;
      z-index: 1;
    }
    
    tr:hover .rank {
      background-color: var(--primary);
      color: white;
      animation: pulse 0.4s ease;
    }
    
    /* Ranking con medallero mejorado */
    .top-1 .rank, .top-2 .rank, .top-3 .rank {
      position: relative;
      color: white;
      font-weight: 700;
      box-shadow: var(--shadow-md);
    }
    
    .top-1 .rank {
      background: var(--gold);
      box-shadow: var(--gold-shadow);
    }
    
    .top-1 .rank::before {
      content: 'üëë';
      position: absolute;
      font-size: 0.75rem;
      top: -18px;
      left: 50%;
      transform: translateX(-50%);
      animation: bounce 1.5s ease-in-out infinite;
    }
    
    .top-2 .rank {
      background: var(--silver);
      box-shadow: var(--silver-shadow);
    }
    
    .top-2 .rank::before {
      content: 'ü•à';
      position: absolute;
      font-size: 0.6rem;
      top: -14px;
      left: 50%;
      transform: translateX(-50%);
    }
    
    .top-3 .rank {
      background: var(--bronze);
      box-shadow: var(--bronze-shadow);
    }
    
    .top-3 .rank::before {
      content: 'ü•â';
      position: absolute;
      font-size: 0.6rem;
      top: -14px;
      left: 50%;
      transform: translateX(-50%);
    }
    
    .ai-info {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .favorite-star {
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 1.75rem;
      height: 1.75rem;
      border-radius: var(--radius-full);
      background-color: var(--bg-secondary);
      flex-shrink: 0;
      transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .favorite-star:hover {
      transform: scale(1.15) rotate(5deg);
      background-color: var(--bg-accent);
    }
    
    .favorite-star svg {
      width: 1.25rem;
      height: 1.25rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .favorite-star.active {
      background-color: rgba(251, 191, 36, 0.2);
      animation: pulse 0.3s ease-in-out;
    }
    
    .favorite-star.active svg {
      color: var(--warning);
      filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
      transform: scale(1.1);
    }
    
    .ai-logo {
      width: 2.5rem;
      height: 2.5rem;
      border-radius: var(--radius-full);
      object-fit: cover;
      box-shadow: var(--shadow-sm);
      border: 2px solid var(--bg-secondary);
      flex-shrink: 0;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      background-color: var(--bg-secondary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: var(--primary);
      font-size: 0.875rem;
    }
    
    tr:hover .ai-logo {
      transform: scale(1.1);
      box-shadow: var(--shadow-md);
      border-color: var(--primary-light);
    }
    
    .ai-details {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }
    
    .ai-name {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-primary);
      letter-spacing: -0.25px;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .ai-company {
      font-size: 0.8125rem;
      color: var(--text-tertiary);
      font-style: italic;
      opacity: 0.85;
    }
    
    .visit-count {
      font-size: 0.9375rem;
      font-weight: 500;
      color: var(--text-primary);
    }
    
    .change {
      font-size: 0.9375rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.375rem;
    }
    
    .change.up {
      color: var(--success);
    }
    
    .change.down {
      color: var(--danger);
    }
    
    .change svg {
      transition: transform 0.2s ease;
    }
    
    tr:hover .change.up svg {
      transform: translateY(-2px);
    }
    
    tr:hover .change.down svg {
      transform: translateY(2px);
    }
    
    .year {
      font-size: 0.9375rem;
      font-weight: 500;
      color: var(--text-primary);
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: var(--radius);
      background-color: var(--bg-secondary);
      transition: var(--transition);
    }
    
    tr:hover .year {
      box-shadow: var(--shadow-sm);
      transform: translateY(-1px);
    }
    
    /* Barra de valoraci√≥n mejorada */
    .rating-container {
      width: 100%;
      display: flex;
      align-items: center;
      gap: 0.625rem;
      margin: 0.25rem 0;
    }
    
    .rating-bar {
      flex-grow: 1;
      height: 0.5rem;
      background-color: var(--bg-secondary);
      border-radius: var(--radius-full);
      overflow: hidden;
      position: relative;
      box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
    }
    
    .rating-progress {
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      background: linear-gradient(90deg, var(--primary-dark), var(--primary));
      box-shadow: 0 0 5px rgba(59, 130, 246, 0.3);
      transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    tr:hover .rating-progress {
      background: linear-gradient(90deg, var(--primary-dark), var(--primary-light));
      box-shadow: 0 0 8px rgba(59, 130, 246, 0.5);
    }
    
    .rating-value {
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--text-primary);
      min-width: 2.25rem;
      text-align: right;
    }
    
    /* Badges mejorados para capacidades */
    .badge-container {
      display: flex;
      flex-wrap: wrap;
      gap: 0.375rem;
    }
    
    .badge {
      font-size: 0.75rem;
      font-weight: 500;
      padding: 0.375rem 0.75rem;
      border-radius: var(--radius-full);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }
    
    tr:hover .badge {
      transform: translateY(-1px);
      box-shadow: var(--shadow-sm);
    }
    
    /* Badges espec√≠ficos por categor√≠a */
    .badge.texto {
      background-color: rgba(59, 130, 246, 0.2);
      color: #60a5fa;
    }
    
    .badge.imagen {
      background-color: rgba(244, 114, 182, 0.2);
      color: #f472b6;
    }
    
    .badge.audio {
      background-color: rgba(168, 85, 247, 0.2);
      color: #a855f7;
    }
    
    .badge.video {
      background-color: rgba(236, 72, 153, 0.2);
      color: #ec4899;
    }
    
    .badge.codigo {
      background-color: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .badge.razonamiento {
      background-color: rgba(234, 179, 8, 0.2);
      color: #eab308;
    }
    
    .badge.automatizacion {
      background-color: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    /* Paginaci√≥n mejorada */
    .pagination {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
      margin-top: 2rem;
    }
    
    .page-info {
      font-size: 0.875rem;
      color: var(--text-tertiary);
      animation: fadeIn 0.5s ease-out;
    }
    
    .page-buttons {
      display: flex;
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow);
    }
    
    .page-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 2.5rem;
      height: 2.5rem;
      padding: 0 0.5rem;
      border: 1px solid var(--border);
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text-secondary);
      background-color: var(--card-bg);
      cursor: pointer;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .page-button:first-child {
      border-top-left-radius: var(--radius);
      border-bottom-left-radius: var(--radius);
    }
    
    .page-button:last-child {
      border-top-right-radius: var(--radius);
      border-bottom-right-radius: var(--radius);
    }
    
    .page-button.active {
      background-color: var(--bg-accent);
      color: white;
      border-color: var(--primary-dark);
      font-weight: 600;
      z-index: 1;
      box-shadow: inset 0 1px 3px rgba(66, 153, 225, 0.2);
    }
    
    .page-button:not(:first-child) {
      margin-left: -1px;
    }
    
    .page-button:hover:not(.active):not(:disabled) {
      background-color: var(--bg-secondary);
      z-index: 2;
      transform: translateY(-1px);
    }
    
    .page-button:disabled {
      cursor: not-allowed;
      opacity: 0.5;
    }
    
    /* Notificaci√≥n mejorada */
    .notification {
      position: fixed;
      bottom: 1.5rem;
      right: 1.5rem;
      padding: 1rem 1.25rem;
      background-color: var(--card-bg);
      color: var(--text-primary);
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      transform: translateY(100px);
      opacity: 0;
      transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.4s ease;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      z-index: 100;
      max-width: 360px;
      border-left: 4px solid var(--primary);
    }
    
    .notification.visible {
      transform: translateY(0);
      opacity: 1;
    }
    
    .notification-icon {
      width: 1.5rem;
      height: 1.5rem;
      flex-shrink: 0;
      color: var(--warning);
      animation: spin 0.5s ease-out;
    }
    
    .notification-text {
      font-size: 0.9375rem;
      font-weight: 500;
    }
    
    /* B√∫squeda mejorada */
    .search-bar {
      background-color: var(--bg-secondary);
      padding: 1.25rem 0;
      box-shadow: 0 1px 0 var(--border);
      transition: var(--transition-theme);
    }
    
    .search-container {
      max-width: 640px;
      margin: 0 auto;
      position: relative;
    }
    
    .search-input {
      width: 100%;
      padding: 0.85rem 1.25rem 0.85rem 3rem;
      border-radius: var(--radius-full);
      border: 2px solid var(--border);
      background-color: var(--card-bg);
      color: var(--text-primary);
      font-size: 1rem;
      box-shadow: var(--shadow-md);
      transition: all 0.3s ease;
    }
    
    .search-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: var(--shadow-lg), 0 0 0 4px rgba(59, 130, 246, 0.2);
    }
    
    .search-input::placeholder {
      color: var(--text-muted);
    }
    
    .search-icon {
      position: absolute;
      left: 1.1rem;
      top: 50%;
      transform: translateY(-50%);
      width: 1.35rem;
      height: 1.35rem;
      color: var(--text-muted);
      pointer-events: none;
      stroke-width: 2.5;
    }
    
    /* Responsive */
    @media (max-width: 1024px) {
      html {
        font-size: 15px;
      }
    }
    
    @media (max-width: 768px) {
      html {
        font-size: 14px;
      }
      
      .container {
        padding: 0 1rem;
      }
      
      .hide-mobile {
        display: none;
      }
      
      .pagination {
        flex-direction: column;
        align-items: center;
      }
      
      th, td {
        padding: 0.75rem 1rem;
      }
      
      .logo-text {
        display: none;
      }
      
      .logo {
        font-size: 1.75rem;
      }
      
      .filters {
        justify-content: center;
      }
    }
    
    @media (max-width: 640px) {
      th:nth-child(6), td:nth-child(6) { /* Valoraci√≥n */
        width: 80px;
      }
      
      .rating-container {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.25rem;
      }
      
      .badge-container {
        flex-wrap: nowrap;
        overflow-x: auto;
        padding-bottom: 0.5rem;
        max-width: 100%;
      }
    }
    
    @media (max-width: 480px) {
      .ai-logo {
        width: 2rem;
        height: 2rem;
        font-size: 0.7rem;
      }
      
      .badge {
        font-size: 0.6875rem;
        padding: 0.25rem 0.5rem;
      }
      
      th:nth-child(4), td:nth-child(4),
      th:nth-child(5), td:nth-child(5) {
        display: none;
      }
    }
    
    /* Utilidades */
    .hidden {
      display: none;
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-out;
    }
    
    .slide-up {
      animation: slideUp 0.5s ease-out;
    }
    
    .pulse {
      animation: pulse 1s ease-in-out;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="container">
      <div class="nav">
        <a href="#" class="logo">
          AIMarketCap
        </a>
        
        <div class="nav-items">
          <button id="favorites-toggle" class="button" title="Mostrar solo favoritos">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
          </button>
          
          <button id="dark-mode-toggle" class="button" title="Cambiar tema">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
          </button>
        </div>
      </div>
    </div>
  </header>
  
  <!-- Barra de b√∫squeda -->
  <div class="search-bar">
    <div class="container">
      <div class="search-container">
        <input type="text" id="search-input" class="search-input" placeholder="Buscar IAs por nombre o empresa...">
        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>
      </div>
    </div>
  </div>
  
  <!-- Filtros de categor√≠a -->
  <div class="container">
    <div class="filters">
      <button class="filter-button active" data-category="todas">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
        Todas
      </button>
      <button class="filter-button" data-category="texto">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>
        Texto
      </button>
      <button class="filter-button" data-category="imagen">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
        Imagen
      </button>
      <button class="filter-button" data-category="audio">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2c-1.7 0-3 1.2-3 2.6v6.8c0 1.4 1.3 2.6 3 2.6s3-1.2 3-2.6V4.6C15 3.2 13.7 2 12 2z"></path><path d="M19 10v1a7 7 0 0 1-14 0v-1M12 18.5v3.5m-4-2h8"></path></svg>
        Audio
      </button>
      <button class="filter-button" data-category="video">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line></svg>
        Video
      </button>
      <button class="filter-button" data-category="codigo">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>
        C√≥digo
      </button>
      <button class="filter-button" data-category="razonamiento">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
        Razonamiento
      </button>
      <button class="filter-button" data-category="automatizacion">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
        Automatizaci√≥n
      </button>
    </div>
  </div>
  
  <!-- Notificaci√≥n -->
  <div id="notification" class="notification">
    <svg id="notification-icon" class="notification-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg>
    <span id="notification-text" class="notification-text"></span>
  </div>
  
  <main class="main">
    <div class="container">
      <div class="card">
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th>IA</th>
                <th>Visitas</th>
                <th>Cambio</th>
                <th>A√±o</th>
                <th>Valoraci√≥n</th>
                <th>Capacidades</th>
              </tr>
            </thead>
            <tbody id="ai-table-body">
              <!-- Las filas se generar√°n din√°micamente desde JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
      
      <div class="pagination">
        <div class="page-info" id="page-info">
          Cargando...
        </div>
        
        <div class="page-buttons" id="pagination-container">
          <!-- Los botones de paginaci√≥n se generar√°n din√°micamente -->
        </div>
      </div>
    </div>
  </main>
  
  <script>
    // Datos de las IAs completos
    const allIAs = [
      {
        id: 1,
        name: "ChatGPT",
        company: "OpenAI",
        visits: "982.5M",
        change: 12.4,
        launch: "30 Nov 2022",
        rating: 9.8,
        year: 2022,
        capabilities: ["Texto", "Razonamiento"],
        logo: "C"
      },
      {
        id: 2,
        name: "Claude",
        company: "Anthropic",
        visits: "720M",
        change: 25.3,
        launch: "15 Mar 2023",
        rating: 9.7,
        year: 2023,
        capabilities: ["Texto", "Razonamiento", "C√≥digo"],
        logo: "CL"
      },
      {
        id: 3,
        name: "Gemini",
        company: "Google",
        visits: "750M",
        change: 18.7,
        launch: "6 Dec 2023",
        rating: 9.6,
        year: 2023,
        capabilities: ["Texto", "Imagen", "Audio", "Video", "C√≥digo", "Razonamiento"],
        logo: "G"
      },
      {
        id: 4,
        name: "Perplexity AI",
        company: "Perplexity",
        visits: "450M",
        change: 32.1,
        launch: "20 Aug 2023",
        rating: 9.2,
        year: 2023,
        capabilities: ["Texto", "Razonamiento"],
        logo: "P"
      },
      {
        id: 5,
        name: "Poe",
        company: "Quora",
        visits: "320M",
        change: 15.8,
        launch: "21 Sep 2023",
        rating: 9.0,
        year: 2023,
        capabilities: ["Texto", "Razonamiento"],
        logo: "P"
      },
      {
        id: 6,
        name: "Character.ai",
        company: "Character.ai",
        visits: "380M",
        change: 20.5,
        launch: "12 Jul 2022",
        rating: 8.9,
        year: 2022,
        capabilities: ["Texto", "Razonamiento"],
        logo: "CA"
      },
      {
        id: 7,
        name: "Microsoft Copilot",
        company: "Microsoft",
        visits: "430M",
        change: 15.8,
        launch: "21 Sep 2023",
        rating: 9.0,
        year: 2023,
        capabilities: ["Texto", "C√≥digo", "Automatizaci√≥n"],
        logo: "MC"
      },
      {
        id: 8,
        name: "Meta AI (LLaMA)",
        company: "Meta",
        visits: "310M",
        change: -1.4,
        launch: "24 Feb 2023",
        rating: 8.9,
        year: 2023,
        capabilities: ["Texto", "Razonamiento"],
        logo: "M"
      },
      {
        id: 9,
        name: "Amazon Olympus",
        company: "Amazon",
        visits: "280M",
        change: 14.7,
        launch: "8 Apr 2023",
        rating: 8.8,
        year: 2023,
        capabilities: ["Texto", "Razonamiento"],
        logo: "AO"
      },
      {
        id: 10,
        name: "YandexGPT",
        company: "Yandex",
        visits: "210M",
        change: 18.3,
        launch: "15 May 2023",
        rating: 8.7,
        year: 2023,
        capabilities: ["Texto", "Razonamiento"],
        logo: "Y"
      },
      {
        id: 11,
        name: "Grammarly",
        company: "Grammarly, Inc.",
        visits: "350M",
        change: 8.4,
        launch: "2 Jul 2019",
        rating: 9.0,
        year: 2019,
        capabilities: ["Texto"],
        logo: "G"
      },
      {
        id: 12,
        name: "QuillBot",
        company: "QuillBot",
        visits: "190M",
        change: 10.2,
        launch: "12 Aug 2020",
        rating: 8.5,
        year: 2020,
        capabilities: ["Texto"],
        logo: "QB"
      },
      {
        id: 13,
        name: "DeepL",
        company: "DeepL GmbH",
        visits: "220M",
        change: 7.5,
        launch: "28 Aug 2017",
        rating: 9.2,
        year: 2017,
        capabilities: ["Texto"],
        logo: "DL"
      },
      {
        id: 14,
        name: "Wordtune",
        company: "AI21 Labs",
        visits: "120M",
        change: 12.1,
        launch: "5 Oct 2020",
        rating: 8.4,
        year: 2020,
        capabilities: ["Texto"],
        logo: "WT"
      },
      {
        id: 15,
        name: "Sudowrite",
        company: "Sudowrite",
        visits: "85M",
        change: 18.9,
        launch: "15 Nov 2021",
        rating: 8.6,
        year: 2021,
        capabilities: ["Texto"],
        logo: "SW"
      },
      // A partir de aqu√≠ a√±adir el resto de IAs seg√∫n sea necesario
    ];
    
    // Funci√≥n para inicializar colores y marcar clases para los badges
    function getCapabilityClass(capability) {
      const name = capability.toLowerCase();
      switch (name) {
        case 'texto': return 'texto';
        case 'imagen': return 'imagen';
        case 'audio': return 'audio';
        case 'video': return 'video';
        case 'c√≥digo': return 'codigo';
        case 'razonamiento': return 'razonamiento';
        case 'automatizaci√≥n': return 'automatizacion';
        default: return '';
      }
    }
    
    // Script principal sin dependencias de localStorage
    document.addEventListener('DOMContentLoaded', function() {
      // Variables para estado temporal
      let isDarkMode = true; // Por defecto en modo oscuro
      let showFavorites = false;
      let currentCategory = 'todas';
      let currentPage = 1;
      let favorites = [];
      let searchTerm = '';
      const itemsPerPage = 10;
      
      // Obtener referencias a los elementos del DOM
      const darkModeToggle = document.getElementById('dark-mode-toggle');
      const favoritesToggle = document.getElementById('favorites-toggle');
      
      // Funci√≥n para almacenar datos en localStorage o en memoria si no est√° disponible
      function safeStorage(key, value) {
        try {
          if (value === undefined) {
            // Obtener valor
            const storedValue = localStorage.getItem(key);
            return storedValue ? JSON.parse(storedValue) : null;
          } else {
            // Establecer valor
            localStorage.setItem(key, JSON.stringify(value));
            return true;
          }
        } catch (error) {
          console.log('Storage no disponible:', error.message);
          return value === undefined ? null : false;
        }
      }
      
      // Funciones para manipular el modo oscuro/claro
      function enableDarkMode() {
        isDarkMode = true;
        document.body.classList.remove('light-mode');
        if (darkModeToggle) {
          darkModeToggle.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>';
        }
      }
      
      function enableLightMode() {
        isDarkMode = false;
        document.body.classList.add('light-mode');
        if (darkModeToggle) {
          darkModeToggle.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg>';
        }
      }
      
      // Funci√≥n para actualizar el bot√≥n de favoritos
      function updateFavoritesButton() {
        if (favoritesToggle) {
          if (showFavorites) {
            favoritesToggle.style.color = 'var(--warning)';
            favoritesToggle.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';
          } else {
            favoritesToggle.style.color = '';
            favoritesToggle.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';
          }
          
          updateFavoritesCount();
        }
      }
      
      // Funci√≥n para actualizar el contador de favoritos
      function updateFavoritesCount() {
        if (favoritesToggle) {
          let badge = favoritesToggle.querySelector('.button-badge');
          
          if (favorites.length > 0) {
            if (!badge) {
              badge = document.createElement('span');
              badge.className = 'button-badge';
              favoritesToggle.appendChild(badge);
            }
            badge.textContent = favorites.length;
          } else {
            if (badge) {
              badge.remove();
            }
          }
        }
      }
      
      // Funci√≥n para establecer la categor√≠a activa
      function setActiveCategory(category) {
        currentCategory = category;
        const categoryButtons = document.querySelectorAll('.filter-button, .filter-button.active');
        
        categoryButtons.forEach(button => {
          const buttonCategory = button.getAttribute('data-category');
          if (buttonCategory === category) {
            // Para la categor√≠a seleccionada
            button.classList.add('active');
            if (buttonCategory !== 'todas') {
              button.classList.add(buttonCategory);
            }
          } else {
            // Para otras categor√≠as
            button.classList.remove('active');
            if (buttonCategory !== 'todas') {
              button.classList.remove(buttonCategory);
            }
          }
        });
      }
      
      // Funci√≥n para filtrar IAs
      function getFilteredIAs() {
        return allIAs.filter(ai => {
          // Filtrar por b√∫squeda
          const matchesSearch = searchTerm === '' || 
                               ai.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                               ai.company.toLowerCase().includes(searchTerm.toLowerCase());
          
          // Filtrar por categor√≠a
          let matchesCategory = true;
          if (currentCategory !== 'todas') {
            // Convertimos Automatizaci√≥n a automatizacion para comparar
            const normalizedCapabilities = ai.capabilities.map(c => {
              if (c === 'Automatizaci√≥n') return 'automatizacion';
              if (c === 'C√≥digo') return 'codigo';
              return c.toLowerCase();
            });
            
            matchesCategory = normalizedCapabilities.includes(currentCategory.toLowerCase());
          }
          
          // Filtrar por favoritos
          const matchesFavorites = !showFavorites || favorites.includes(ai.id);
          
          return matchesSearch && matchesCategory && matchesFavorites;
        });
      }
      
      // Funci√≥n para mostrar notificaci√≥n
      function showNotification(message, iconType) {
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notification-text');
        const notificationIcon = document.getElementById('notification-icon');
        
        // Establecer mensaje y tipo de icono
        notificationText.textContent = message;
        
        if (iconType === 'star-fill') {
          notificationIcon.innerHTML = '<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>';
          notificationIcon.setAttribute('fill', 'currentColor');
        } else {
          notificationIcon.innerHTML = '<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>';
          notificationIcon.setAttribute('fill', 'none');
        }
        
        // Mostrar notificaci√≥n
        notification.classList.add('visible');
        
        // Ocultar despu√©s de 3 segundos
        setTimeout(() => {
          notification.classList.remove('visible');
        }, 3000);
      }
      
      // Funci√≥n para manejar favoritos
      function toggleFavorite(id) {
        const index = favorites.indexOf(id);
        
        if (index === -1) {
          // A√±adir a favoritos
          favorites.push(id);
          showNotification('A√±adido a favoritos', 'star-fill');
        } else {
          // Quitar de favoritos
          favorites.splice(index, 1);
          showNotification('Eliminado de favoritos', 'star');
        }
        
        // Guardar favoritos en localStorage
        safeStorage('aiMarketCapFavorites', favorites);
        
        // Actualizar el contador de favoritos
        updateFavoritesCount();
        
        // Si estamos mostrando solo favoritos, actualizar la tabla
        if (showFavorites) {
          updateTable();
        } else {
          // Si no, solo actualizamos las estrellas visibles
          const favoriteStars = document.querySelectorAll('.favorite-star');
          favoriteStars.forEach(star => {
            const aiId = parseInt(star.getAttribute('data-id'));
            if (favorites.includes(aiId)) {
              star.classList.add('active');
              star.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';
            } else {
              star.classList.remove('active');
              star.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';
            }
          });
        }
      }
      
      // Actualizar la tabla con los datos filtrados
      function updateTable() {
        const filteredIAs = getFilteredIAs();
        const tableBody = document.getElementById('ai-table-body');
        
        // Calcular IAs para la p√°gina actual
        const indexOfLastItem = currentPage * itemsPerPage;
        const indexOfFirstItem = indexOfLastItem - itemsPerPage;
        const currentIAs = filteredIAs.slice(indexOfFirstItem, indexOfFirstItem + itemsPerPage);
        
        // Limpiar la tabla
        tableBody.innerHTML = '';
        
        // Mostrar mensaje si no hay resultados
        if (currentIAs.length === 0) {
          const emptyRow = document.createElement('tr');
          emptyRow.innerHTML = `
            <td colspan="7">
              <div class="empty-state">
                <div class="empty-icon">
                  ${showFavorites ? '‚≠ê' : 'üîç'}
                </div>
                <div class="empty-title">No se encontraron resultados</div>
                <div class="empty-description">
                  ${showFavorites 
                    ? 'No tienes IAs marcadas como favoritas. Marca algunas para verlas aqu√≠.' 
                    : 'Intenta con otra b√∫squeda o categor√≠a.'}
                </div>
              </div>
            </td>
          `;
          tableBody.appendChild(emptyRow);
        } else {
          // Generar filas de la tabla
          currentIAs.forEach((ai, index) => {
            const row = document.createElement('tr');
            
            // Aplicar clase especial para top 3
            if (currentCategory === 'todas' && !showFavorites && searchTerm === '' && ai.id <= 3) {
              row.classList.add('top-' + ai.id);
            }
            
            // Clase para cambio positivo o negativo
            const changeClass = ai.change >= 0 ? 'up' : 'down';
            const changeIcon = ai.change >= 0 
              ? '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg>'
              : '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>';
            
            // Verificar si es favorito
            const isFavorite = favorites.includes(ai.id);
            const starIcon = isFavorite
              ? '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>'
              : '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';
            
            // Calcular el n√∫mero real en la lista
            const aiRank = indexOfFirstItem + index + 1;
            
            // Generar badges de capacidades con clases espec√≠ficas
            const capabilityBadges = ai.capabilities.map(cap => 
              `<span class="badge ${getCapabilityClass(cap)}">${cap}</span>`
            ).join('');
            
            row.innerHTML = `
              <td>
                <div class="rank">${aiRank}</div>
              </td>
              <td>
                <div class="ai-info">
                  <div class="favorite-star ${isFavorite ? 'active' : ''}" data-id="${ai.id}">
                    ${starIcon}
                  </div>
                  <div class="ai-logo">${ai.logo}</div>
                  <div class="ai-details">
                    <div class="ai-name">${ai.name}</div>
                    <div class="ai-company">${ai.company}</div>
                  </div>
                </div>
              </td>
              <td>
                <div class="visit-count">${ai.visits}</div>
              </td>
              <td>
                <div class="change ${changeClass}">
                  ${changeIcon}
                  ${Math.abs(ai.change).toFixed(1)}%
                </div>
              </td>
              <td>
                <div class="year">${ai.year}</div>
              </td>
              <td>
                <div class="rating-container">
                  <div class="rating-bar">
                    <div class="rating-progress" style="width: ${(ai.rating/10)*100}%"></div>
                  </div>
                  <div class="rating-value">${ai.rating}</div>
                </div>
              </td>
              <td>
                <div class="badge-container">
                  ${capabilityBadges}
                </div>
              </td>
            `;
            
            tableBody.appendChild(row);
          });
          
          // A√±adir eventos a las estrellas de favoritos
          const favoriteStars = document.querySelectorAll('.favorite-star');
          favoriteStars.forEach(star => {
            star.addEventListener('click', function(e) {
              e.stopPropagation(); // Evitar que el clic se propague a la fila
              const aiId = parseInt(this.getAttribute('data-id'));
              toggleFavorite(aiId);
            });
          });
        }
        
        // Actualizar informaci√≥n de paginaci√≥n
        updatePagination(filteredIAs.length);
      }
      
      // Actualizar la paginaci√≥n
      function updatePagination(totalItems) {
        const totalPages = Math.ceil(totalItems / itemsPerPage);
        const paginationContainer = document.getElementById('pagination-container');
        const pageInfo = document.getElementById('page-info');
        
        // Actualizar informaci√≥n de p√°gina
        pageInfo.innerHTML = `
          Mostrando <strong>${totalItems === 0 ? 0 : Math.min(totalItems, (currentPage - 1) * itemsPerPage + 1)}</strong> a 
          <strong>${Math.min(totalItems, currentPage * itemsPerPage)}</strong> de <strong>${totalItems}</strong> IAs
        `;
        
        // Limpiar contenedor de paginaci√≥n
        paginationContainer.innerHTML = '';
        
        // No mostrar paginaci√≥n si no hay resultados
        if (totalItems === 0) return;
        
        // Crear botones de paginaci√≥n
        // Bot√≥n anterior
        const prevButton = document.createElement('button');
        prevButton.className = `page-button${currentPage === 1 ? ' disabled' : ''}`;
        prevButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>';
        prevButton.disabled = currentPage === 1;
        prevButton.addEventListener('click', () => {
          if (currentPage > 1) {
            currentPage--;
            updateTable();
          }
        });
        paginationContainer.appendChild(prevButton);
        
        // Botones de p√°gina
        const maxButtons = 5;
        let startPage = Math.max(1, currentPage - Math.floor(maxButtons / 2));
        let endPage = Math.min(totalPages, startPage + maxButtons - 1);
        
        if (endPage - startPage + 1 < maxButtons) {
          startPage = Math.max(1, endPage - maxButtons + 1);
        }
        
        for (let i = startPage; i <= endPage; i++) {
          const pageButton = document.createElement('button');
          pageButton.className = `page-button${i === currentPage ? ' active' : ''}`;
          pageButton.textContent = i;
          pageButton.addEventListener('click', () => {
            currentPage = i;
            updateTable();
          });
          paginationContainer.appendChild(pageButton);
        }
        
        // Bot√≥n siguiente
        const nextButton = document.createElement('button');
        nextButton.className = `page-button${currentPage === totalPages ? ' disabled' : ''}`;
        nextButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>';
        nextButton.disabled = currentPage === totalPages;
        nextButton.addEventListener('click', () => {
          if (currentPage < totalPages) {
            currentPage++;
            updateTable();
          }
        });
        paginationContainer.appendChild(nextButton);
      }
      
      // Intentar cargar configuraci√≥n guardada
      try {
        // Intentar cargar favoritos
        const storedFavorites = safeStorage('aiMarketCapFavorites');
        if (storedFavorites) {
          favorites = storedFavorites;
        }
        
        // Intentar cargar el tema
        const storedDarkMode = safeStorage('aiMarketCapDarkMode');
        if (storedDarkMode !== null) {
          isDarkMode = storedDarkMode;
          if (isDarkMode) {
            enableDarkMode();
          } else {
            enableLightMode();
          }
        } else {
          // Usar tema oscuro por defecto
          enableDarkMode();
        }
      } catch (e) {
        console.log('Error al cargar configuraci√≥n:', e.message);
      }
      
      // Inicializar la tabla
      updateTable();
      
      // Configurar los event listeners
      
      // Barra de b√∫squeda
      const searchInput = document.getElementById('search-input');
      if (searchInput) {
        searchInput.addEventListener('input', function() {
          searchTerm = this.value;
          currentPage = 1;
          updateTable();
        });
      }
      
      // Bot√≥n modo oscuro/claro
      if (darkModeToggle) {
        darkModeToggle.addEventListener('click', function() {
          if (isDarkMode) {
            enableLightMode();
          } else {
            enableDarkMode();
          }
          
          safeStorage('aiMarketCapDarkMode', isDarkMode);
        });
      }
      
      // Bot√≥n favoritos
      if (favoritesToggle) {
        updateFavoritesButton(); // Actualizar el bot√≥n al inicio
        
        favoritesToggle.addEventListener('click', function() {
          showFavorites = !showFavorites;
          updateFavoritesButton();
          currentPage = 1;
          updateTable();
        });
      }
      
      // Botones de categor√≠a
      const categoryButtons = document.querySelectorAll('.filter-button, .filter-button.active');
      categoryButtons.forEach(button => {
        button.addEventListener('click', function() {
          const category = this.getAttribute('data-category');
          setActiveCategory(category);
          currentPage = 1;
          updateTable();
        });
      });
    });
  </script>
</body>
</html>
